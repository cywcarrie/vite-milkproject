import{_ as x,R as L,m as P,h as w,S as $,i as j,r as _,o as i,c,b as d,a as t,w as v,n as l,e as n,F as u,j as b,g,t as a,k as m}from"./index-BqodoQ1R.js";import{F as B}from"./FooterComponent-BC0nTRLy.js";const N={components:{RouterLink:L,FooterComponent:B},data(){return{products:[],categories:[],selectCategory:"",isLoading:!1,id:""}},methods:{...P(w,["addCart"]),getProducts(){const s="https://vue3-course-api.hexschool.io/api/funniecafeweb/products/all";this.isLoading=!0,this.$http.get(s).then(o=>{if(this.isLoading=!1,o.data.success){this.products=o.data.products,this.getCategories();const{productCategory:h}=this.$route.params;h&&(this.selectCategory=h)}}).catch(o=>{$.fire({position:"top-end",icon:"error",title:`${o.response.data.message}`,timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0})})},getCategories(){const s=new Set;this.products.forEach(o=>{s.add(o.category)}),this.categories=[...s]},getProduct(s){this.$router.push(`/product/${s}`)}},computed:{...j(w,["isDone"]),filterProducts(){return this.products.filter(s=>s.category.match(this.selectCategory))}},mounted(){this.getProducts()}},D={class:"mb-5"},F={class:"container"},S=t("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner1 container-fluid"},[t("h2",{class:"position-absolute text-center text-white fw-bolder banner-title"},"我們的商品")],-1),V={"aria-label":"breadcrumb",class:"mt-3 mb-md-4 d-flex justify-content-start"},R={class:"breadcrumb"},T={class:"breadcrumb-item"},M=t("li",{class:"breadcrumb-item active","aria-current":"page"},"商品列表",-1),E={class:"row my-5"},U={class:"col-lg-3 mb-4 mb-lg-0"},q={class:"d-none d-md-block"},z=t("h3",{class:"text-start pb-3 fw-bold fs-4 border-bottom border-primary border-2"},"商品系列",-1),A={class:"list-group list-group-flush text-start"},I=t("i",{class:"bi bi-house-heart me-2"},null,-1),G=["onClick"],H=t("i",{class:"bi bi-house-heart me-2"},null,-1),J={class:"dropdown d-block d-md-none w-100"},K=t("button",{class:"btn btn-secondary dropdown-toggle w-100 fw-bold",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}," 商品系列 ",-1),O={class:"dropdown-menu w-100","aria-labelledby":"dropdownMenuButton1"},Q=t("button",{class:"dropdown-item fw-bold",type:"button"},[t("i",{class:"bi bi-house-heart me-2"}),n("全部商品")],-1),W=[Q],X=["onClick"],Y={class:"dropdown-item fw-bold",type:"button"},Z=t("i",{class:"bi bi-house-heart me-2"},null,-1),tt={class:"col-lg-9"},et={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3"},st={class:"card product-card w-100 h-100",style:{width:"18rem"}},ot=["onClick"],rt=["src"],it=t("span",{class:"seemore-text d-flex justify-content-center align-items-center text-white fw-bold"},[t("i",{class:"bi bi-search pe-1"}),n(" 查看更多 ")],-1),ct={class:"card-body p-3"},nt={class:"d-flex justify-content-start text-primary fw-bold"},at=t("i",{class:"bi bi-house-heart me-2"},null,-1),lt={class:"card-title fw-bolder text-primary mb-3"},dt={class:"d-flex justify-content-between align-items-center mb-3"},ut={key:0,class:"h5 text-secondary"},ht={key:1,class:"h6 text-secondary"},pt={key:2,class:"h5 text-primary fw-bold"},_t={class:"card-footer border-0 bg-transparent pt-0 pb-3"},bt=["onClick"],gt=t("i",{class:"bi bi-cart-fill"},null,-1);function mt(s,o,h,ft,r,f){const C=_("LoadingVue"),y=_("RouterLink"),k=_("FooterComponent");return i(),c(u,null,[d(C,{active:r.isLoading,loader:"spinner",color:"#fca311",width:70,height:70},null,8,["active"]),t("section",D,[t("div",F,[S,t("nav",V,[t("ol",R,[t("li",T,[d(y,{to:"/",class:"text-dark hover-nav fw-bold"},{default:v(()=>[n("首頁")]),_:1})]),M])]),t("div",E,[t("div",U,[t("div",q,[z,t("div",A,[t("button",{type:"button",class:l(["list-group-item list-group-item-action fw-bold",{active:r.selectCategory===""}]),"aria-current":"true",onClick:o[0]||(o[0]=e=>r.selectCategory="")},[I,n(" 全部商品 ")],2),(i(!0),c(u,null,b(r.categories,e=>(i(),c("button",{key:e,type:"button",class:l(["list-group-item list-group-item-action fw-bold",{active:e===r.selectCategory}]),onClick:g(p=>r.selectCategory=e,["prevent"])},[H,n(" 只想喝"+a(e),1)],10,G))),128))])]),t("div",J,[K,t("ul",O,[t("li",{onClick:o[1]||(o[1]=g(e=>r.selectCategory="",["prevent"])),class:l({active:r.selectCategory===""})},W,2),(i(!0),c(u,null,b(r.categories,e=>(i(),c("li",{key:e,class:l({active:e===r.selectCategory}),onClick:g(p=>r.selectCategory=e,["prevent"])},[t("button",Y,[Z,n("只想喝"+a(e),1)])],10,X))),128))])])]),t("div",tt,[t("div",et,[(i(!0),c(u,null,b(f.filterProducts,e=>(i(),c("div",{class:"col mb-4",key:e.id},[t("div",st,[d(y,{to:`/product/${e.id}`},{default:v(()=>[t("div",{class:"product-img cursor-pointer",onClick:p=>f.getProduct(e.id)},[t("img",{style:{height:"180px","background-position":"center"},src:e.imageUrl,class:"card-img-top object-fit-cover",alt:"productImages"},null,8,rt),it],8,ot),t("div",ct,[t("div",nt,[t("p",null,[at,n("只想喝"+a(e.category),1)])]),t("h5",lt,a(e.title),1),t("div",dt,[e.price?m("",!0):(i(),c("div",ut,"NTD "+a(s.$filters.currency(e.origin_price)),1)),e.price?(i(),c("del",ht,"NTD "+a(s.$filters.currency(e.origin_price)),1)):m("",!0),e.price?(i(),c("div",pt," NTD "+a(s.$filters.currency(e.price)),1)):m("",!0)])])]),_:2},1032,["to"]),t("div",_t,[t("button",{type:"button",class:l(["btn btn-outline-primary w-100",{disabled:s.isDone===e.id}]),onClick:p=>s.addCart(e.id,s.qty)},[gt,n(" 加入購物車 ")],10,bt)])])]))),128))])])])])]),d(k)],64)}const vt=x(N,[["render",mt]]);export{vt as default};
