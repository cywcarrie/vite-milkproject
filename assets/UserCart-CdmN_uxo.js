import{_ as g,m as k,h as m,i as w,r as _,o as n,c as l,b as r,a as t,g as x,w as p,F as h,e as c,j as $,t as i,k as a,f,v as y,C as j,D as q}from"./index-DKG7HB9V.js";import{F as V}from"./FooterComponent-BOjzyerm.js";const L={components:{FooterComponent:V},data(){return{coupon_code:""}},methods:{...k(m,["getCart","updateCart","removeCartItem","deleteAllCart","getProduct","addCouponCode","copyCouponCode"])},computed:{...w(m,["carts","total","final_total","cart","isLoading"])},mounted(){this.getCart()}},N={class:"mb-5"},F={class:"container"},T=t("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner1 container-fluid"},[t("h2",{class:"position-absolute text-center text-white fw-bolder"},"購物車")],-1),A=t("i",{class:"bi bi-arrow-left-square-fill fs-2"},null,-1),B=[A],S={class:"d-flex justify-content-start mt-3 mb-4"},U=t("i",{class:"bi bi-house-heart pe-2 fs-5"},null,-1),D=t("div",{class:"d-flex justify-content-center mt-5"},[t("h2",{class:"fs-2 fw-bold text-primary"},"我的購物車")],-1),I={class:"row flex-row mt-4 mb-5 py-5 bg-light rounded-2"},M={class:"col-12 col-lg-8 mb-5 mb-lg-0"},P={class:"text-end mb-4"},R=t("i",{class:"bi bi-trash pe-1"},null,-1),z={class:"bg-light"},E={class:"table align-middle text-center table-light table-borderless"},G=t("thead",{class:"table-secondary"},[t("tr",null,[t("th",{class:"text-nowrap"},"商品名稱"),t("th",{class:"text-nowrap"},"數量"),t("th",{class:"text-nowrap"},"小計"),t("th",{class:"text-end"})])],-1),H={class:"text-center"},J=["onClick"],K={class:"text-nowrap"},O={class:"d-flex justify-content-center"},Q=["disabled","onClick"],W=t("i",{class:"bi bi-dash"},null,-1),X=[W],Y=["onUpdate:modelValue"],Z=["disabled","onClick"],tt=t("i",{class:"bi bi-plus"},null,-1),et=[tt],ot={class:"text-nowrap"},st={class:"d-flex justify-content-center"},nt=["onClick"],lt=t("i",{class:"bi bi-trash-fill text-primary"},null,-1),dt=[lt],it=["onClick"],at=t("i",{class:"bi bi-x-lg text-danger"},null,-1),rt=[at],ct={class:"col-12 col-lg-4"},ut={class:"card border-primary"},bt=t("div",{class:"card-header bg-secondary"},[t("h4",{class:"text-center text-dark fw-bold"},"總價")],-1),_t={class:"card-body"},pt={class:"list-unstyled fs-6 fs-md-5 border-bottom mb-0"},ht={class:"d-flex align-items-center justify-content-between mb-4"},mt=t("div",null,"總計",-1),ft={key:0,class:"d-flex align-items-center justify-content-between mb-4"},yt=t("div",{class:"text-danger"},"優惠價",-1),vt={class:"text-danger"},Ct={class:"mt-4 border-bottom"},gt={class:"d-flex align-items-center mb-4"},kt=t("div",{class:"fw-bold"},"限時優惠 9 折",-1),wt={class:"d-flex rounded-pill overflow-hidden border border-2 ms-2"},xt=t("span",{class:"d-flex align-items-center bg-dark text-white fs-6 ps-3 pe-2 py-1 fw-bold"}," funniemilk ",-1),$t=t("i",{class:"bi bi-copy text-dark"},null,-1),jt=[$t],qt={class:"d-flex align-items-center mb-3"},Vt={key:0,class:"input-group mb-3 coupon-input"},Lt=t("span",{class:"d-flex align-items-center me-3"},"優惠劵",-1),Nt={class:"fs-3 fs-md-2 fw-bold text-center pt-4 pb-2 pt-md-5 pb-md-3"},Ft={key:1,class:"py-5 mb-5"},Tt={class:"text-center pt-4"},At=t("h2",{class:"fw-bolder mb-5"},"您尚未有商品加入購物車",-1);function Bt(e,s,St,Ut,u,Dt){const v=_("LoadingVue"),b=_("RouterLink"),C=_("FooterComponent");return n(),l(h,null,[r(v,{active:e.isLoading,loader:"spinner",color:"#fca311",width:70,height:70},null,8,["active"]),t("section",N,[t("div",F,[T,t("a",{href:"#",title:"回上一頁",class:"text-black-50 hover-nav fw-bold mt-3",onClick:s[0]||(s[0]=x(o=>e.$router.go(-1),["prevent"]))},B),t("div",S,[r(b,{class:"btn btn-primary fw-bold",to:"/products"},{default:p(()=>[U,c("回到商品列表")]),_:1})]),e.cart.total!==0?(n(),l(h,{key:0},[D,t("div",I,[t("div",M,[t("div",P,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:s[1]||(s[1]=(...o)=>e.deleteAllCart&&e.deleteAllCart(...o))},[R,c("清空購物車 ")])]),t("div",z,[t("table",E,[G,t("tbody",H,[(n(!0),l(h,null,$(e.cart.carts,o=>(n(),l("tr",{class:"table-nowrap",key:o.id},[t("td",{class:"fw-bold text-primary cursor-pointer hover-nav",onClick:d=>e.getProduct(o.product_id)},i(o.product.title),9,J),t("td",K,[t("div",O,[t("div",{class:"d-flex justify-content-center align-items-center me-1 cart-qty-width",style:q({cursor:o.qty===1?"not-allowed":"pointer"})},[t("button",{type:"button",class:"btn btn-sm btn-outline-primary rounded-0",disabled:o.qty===1,onClick:d=>{o.qty--,e.updateCart(o)}},X,8,Q),f(t("input",{type:"form",class:"form-control text-center rounded-0 border-0 bg-light",min:"1",max:"99","onUpdate:modelValue":d=>o.qty=d},null,8,Y),[[y,o.qty,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-sm btn-outline-primary rounded-0",disabled:o.qty===99,onClick:d=>{o.qty++,e.updateCart(o)}},et,8,Z)],4)])]),t("td",ot,i(e.$filters.currency(o.total)),1),t("td",null,[t("div",st,[t("button",{type:"button",class:"btn border-0 d-none d-md-block",onClick:d=>e.removeCartItem(o.id)},dt,8,nt),t("button",{type:"button",class:"btn border-0 d-block d-md-none",onClick:d=>e.removeCartItem(o.id)},rt,8,it)])])]))),128))])])])]),t("div",ct,[t("div",ut,[bt,t("div",_t,[t("ul",pt,[t("li",ht,[mt,t("div",null,"NT$"+i(e.$filters.currency(e.cart.total)),1)]),e.cart.final_total!==e.cart.total?(n(),l("li",ft,[yt,t("div",vt,"NT$"+i(e.$filters.currency(e.cart.final_total)),1)])):a("",!0)]),t("div",Ct,[t("div",gt,[kt,t("div",wt,[xt,t("button",{onClick:s[2]||(s[2]=(...o)=>e.copyCouponCode&&e.copyCouponCode(...o)),class:"btn d-flex align-items-center ps-2 pe-3 py-1 border-0 rounded-end rounded-0",type:"button"},jt)])]),t("div",qt,[e.cart.total!==0?(n(),l("div",Vt,[Lt,f(t("input",{type:"text",class:"form-control border-primary rounded-start","onUpdate:modelValue":s[3]||(s[3]=o=>u.coupon_code=o),placeholder:"請輸入優惠碼"},null,512),[[y,u.coupon_code]]),t("button",{class:"btn btn-outline-primary",type:"button",onClick:s[4]||(s[4]=o=>e.addCouponCode(u.coupon_code))}," 送出 ")])):a("",!0)])]),t("h4",Nt," NT$"+i(e.$filters.currency(e.cart.final_total)),1)]),e.cart.total!==0?(n(),j(b,{key:0,class:"btn btn-primary rounded-0 rounded-bottom py-3 fs-5 fs-md-4",to:"/checkout"},{default:p(()=>[c("前往結帳")]),_:1})):a("",!0)])])])],64)):a("",!0),e.cart.total===0?(n(),l("div",Ft,[t("div",Tt,[At,r(b,{class:"btn btn-primary btn-lg fw-bold",to:"/products"},{default:p(()=>[c("來去逛逛吧 !")]),_:1})])])):a("",!0)])]),r(C)],64)}const Pt=g(L,[["render",Bt]]);export{Pt as default};
