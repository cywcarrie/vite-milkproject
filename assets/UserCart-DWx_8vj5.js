import{_ as j,g as q,k as L,s as N,n as F,r as m,o as d,c as l,b as _,a as t,w as p,F as h,e as f,q as T,t as r,x as i,j as C,v as g,G as B,J as U}from"./index-s02qgeDo.js";import{V as A}from"./VueLoading-ChtlF1WN.js";import{F as I}from"./FooterComponent-BNzc3-ZA.js";const R={components:{VueLoading:A,FooterComponent:I},setup(){const c=q(""),s=L(),{carts:y,total:o,final_total:x,cart:v,isLoading:b}=N(s),{getCart:a,updateCart:u,removeCartItem:e,deleteAllCart:n,getProduct:k,addCouponCode:w,copyCouponCode:V}=s;return F(()=>{a()}),{coupon_code:c,carts:y,total:o,final_total:x,cart:v,isLoading:b,getCart:a,updateCart:u,removeCartItem:e,deleteAllCart:n,getProduct:k,addCouponCode:w,copyCouponCode:V}}},S={class:"mb-5"},D={class:"container"},M=t("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner1 container-fluid"},[t("h2",{class:"position-absolute text-center text-white fw-bolder banner-title"},"購物車")],-1),P={class:"d-flex justify-content-start mt-3 mb-4"},z=t("i",{class:"bi bi-house-heart-fill fs-6"},null,-1),E=t("span",{class:"fs-6"},"返回商品列表",-1),G=t("div",{class:"d-flex justify-content-center mt-5"},[t("h2",{class:"fs-2 fw-bold text-primary"},"我的購物車")],-1),J={class:"row flex-row mt-4 mb-5 py-5 rounded-2"},H={class:"col-12 col-lg-8 mb-5 mb-lg-0"},K={class:"text-end mb-4"},O=t("i",{class:"bi bi-trash pe-1"},null,-1),Q={class:"bg-light"},W={class:"table align-middle text-center table-borderless"},X=t("thead",{class:"table-secondary"},[t("tr",null,[t("th",{class:"text-nowrap"},"商品名稱"),t("th",{class:"text-nowrap"},"數量"),t("th",{class:"text-nowrap"},"小計"),t("th",{class:"text-end"})])],-1),Y={class:"text-center"},Z=["onClick"],$={class:"text-nowrap"},tt={class:"d-flex justify-content-center"},ot=["disabled","onClick"],et=t("i",{class:"bi bi-dash"},null,-1),st=[et],nt=["onUpdate:modelValue"],dt=["disabled","onClick"],lt=t("i",{class:"bi bi-plus"},null,-1),ct=[lt],at={class:"text-nowrap"},rt={class:"d-flex justify-content-center"},it=["onClick"],_t=t("i",{class:"bi bi-trash-fill text-primary"},null,-1),bt=[_t],ut=["onClick"],mt=t("i",{class:"bi bi-x-lg text-danger"},null,-1),pt=[mt],ht={class:"col-12 col-lg-4"},ft={class:"card border-primary"},yt=t("div",{class:"card-header bg-secondary"},[t("h4",{class:"text-center text-dark fw-bold"},"總價")],-1),xt={class:"card-body"},vt={class:"list-unstyled fs-6 fs-md-5 border-bottom mb-0"},Ct={class:"d-flex align-items-center justify-content-between mb-4"},gt=t("div",null,"總計",-1),kt={key:0,class:"d-flex align-items-center justify-content-between mb-4"},wt=t("div",{class:"text-danger"},"優惠價",-1),Vt={class:"text-danger"},jt={class:"mt-4 border-bottom"},qt={class:"d-flex align-items-center mb-4"},Lt=t("div",{class:"fw-bold"},"限時優惠 9 折",-1),Nt={class:"d-flex rounded-pill overflow-hidden border border-2 ms-2"},Ft=t("span",{class:"d-flex align-items-center bg-dark text-white fs-6 ps-3 pe-2 py-1 fw-bold"}," funniemilk ",-1),Tt=t("i",{class:"bi bi-copy text-dark"},null,-1),Bt=[Tt],Ut={class:"d-flex align-items-center mb-3"},At={key:0,class:"input-group mb-3 coupon-input"},It=t("span",{class:"d-flex align-items-center me-3"},"優惠劵",-1),Rt={class:"fs-3 fs-md-2 fw-bold text-center pt-4 pb-2 pt-md-5 pb-md-3"},St={key:1,class:"py-5 mb-5"},Dt={class:"text-center pt-4"},Mt=t("h2",{class:"fw-bolder mb-5"},"您尚未有商品加入購物車",-1);function Pt(c,s,y,o,x,v){const b=m("VueLoading"),a=m("RouterLink"),u=m("FooterComponent");return d(),l(h,null,[_(b,{active:o.isLoading},null,8,["active"]),t("section",S,[t("div",D,[M,t("div",P,[_(a,{to:"/products",class:"btn btn-outline-primary fw-semibold px-3 px-1 px-md-4 py-md-2 d-flex align-items-center rounded-pill shadow-sm cart-back-btn"},{default:p(()=>[z,E]),_:1})]),o.cart.total!==0?(d(),l(h,{key:0},[G,t("div",J,[t("div",H,[t("div",K,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:s[0]||(s[0]=(...e)=>o.deleteAllCart&&o.deleteAllCart(...e))},[O,f("清空購物車 ")])]),t("div",Q,[t("table",W,[X,t("tbody",Y,[(d(!0),l(h,null,T(o.cart.carts,e=>(d(),l("tr",{class:"table-nowrap",key:e.id},[t("td",{class:"fw-bold text-primary cursor-pointer hover-nav",onClick:n=>o.getProduct(e.product_id)},r(e.product.title),9,Z),t("td",$,[t("div",tt,[t("div",{class:"d-flex justify-content-center align-items-center me-1 cart-qty-width",style:U({cursor:e.qty===1?"not-allowed":"pointer"})},[t("button",{type:"button",class:"btn btn-sm btn-outline-primary rounded-0",disabled:e.qty===1,onClick:n=>(e.qty--,o.updateCart(e))},st,8,ot),C(t("input",{type:"form",class:"form-control text-center rounded-0 border-0",min:"1",max:"99","onUpdate:modelValue":n=>e.qty=n},null,8,nt),[[g,e.qty,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-sm btn-outline-primary rounded-0",disabled:e.qty===99,onClick:n=>(e.qty++,o.updateCart(e))},ct,8,dt)],4)])]),t("td",at,r(c.$format.currency(e.total)),1),t("td",null,[t("div",rt,[t("button",{type:"button",class:"btn border-0 d-none d-md-block",onClick:n=>o.removeCartItem(e.id)},bt,8,it),t("button",{type:"button",class:"btn border-0 d-block d-md-none",onClick:n=>o.removeCartItem(e.id)},pt,8,ut)])])]))),128))])])])]),t("div",ht,[t("div",ft,[yt,t("div",xt,[t("ul",vt,[t("li",Ct,[gt,t("div",null,"NT$"+r(c.$format.currency(o.cart.total)),1)]),o.cart.final_total!==o.cart.total?(d(),l("li",kt,[wt,t("div",Vt,"NT$"+r(c.$format.currency(o.cart.final_total)),1)])):i("",!0)]),t("div",jt,[t("div",qt,[Lt,t("div",Nt,[Ft,t("button",{onClick:s[1]||(s[1]=(...e)=>o.copyCouponCode&&o.copyCouponCode(...e)),class:"btn d-flex align-items-center ps-2 pe-3 py-1 border-0 rounded-end rounded-0",type:"button"},Bt)])]),t("div",Ut,[o.cart.total!==0?(d(),l("div",At,[It,C(t("input",{type:"text",class:"form-control border-primary rounded-start","onUpdate:modelValue":s[2]||(s[2]=e=>o.coupon_code=e),placeholder:"請輸入優惠碼"},null,512),[[g,o.coupon_code]]),t("button",{class:"btn btn-outline-primary",type:"button",onClick:s[3]||(s[3]=e=>o.addCouponCode(o.coupon_code))}," 送出 ")])):i("",!0)])]),t("h4",Rt," NT$"+r(c.$format.currency(o.cart.final_total)),1)]),o.cart.total!==0?(d(),B(a,{key:0,class:"btn btn-primary rounded-0 rounded-bottom py-3 fs-5 fs-md-4",to:"/checkout"},{default:p(()=>[f("前往結帳")]),_:1})):i("",!0)])])])],64)):i("",!0),o.cart.total===0?(d(),l("div",St,[t("div",Dt,[Mt,_(a,{class:"btn btn-primary btn-lg fw-bold",to:"/products"},{default:p(()=>[f("來去逛逛吧 !")]),_:1})])])):i("",!0)])]),_(u)],64)}const Jt=j(R,[["render",Pt]]);export{Jt as default};
