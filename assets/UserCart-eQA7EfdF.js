import{_ as g,m as k,h,i as w,r as _,o as n,c as d,b as i,a as t,w as p,F as m,e as c,j as x,t as a,k as r,f,v as y,C as $,D as V}from"./index-Cxg8NEl6.js";import{V as j}from"./VueLoading-Ca-cu07Q.js";import{F as q}from"./FooterComponent-C7xSt51R.js";const L={components:{VueLoading:j,FooterComponent:q},data(){return{coupon_code:""}},methods:{...k(h,["getCart","updateCart","removeCartItem","deleteAllCart","getProduct","addCouponCode","copyCouponCode"])},computed:{...w(h,["carts","total","final_total","cart","isLoading"])},mounted(){this.getCart()}},N={class:"mb-5"},F={class:"container"},T=t("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner1 container-fluid"},[t("h2",{class:"position-absolute text-center text-white fw-bolder banner-title"},"購物車")],-1),A={class:"d-flex justify-content-start mt-3 mb-4"},B=t("i",{class:"bi bi-house-heart pe-2 fs-5"},null,-1),S=t("div",{class:"d-flex justify-content-center mt-5"},[t("h2",{class:"fs-2 fw-bold text-primary"},"我的購物車")],-1),U={class:"row flex-row mt-4 mb-5 py-5 rounded-2"},D={class:"col-12 col-lg-8 mb-5 mb-lg-0"},I={class:"text-end mb-4"},P=t("i",{class:"bi bi-trash pe-1"},null,-1),R={class:"bg-light"},z={class:"table align-middle text-center table-borderless"},E=t("thead",{class:"table-secondary"},[t("tr",null,[t("th",{class:"text-nowrap"},"商品名稱"),t("th",{class:"text-nowrap"},"數量"),t("th",{class:"text-nowrap"},"小計"),t("th",{class:"text-end"})])],-1),M={class:"text-center"},G=["onClick"],H={class:"text-nowrap"},J={class:"d-flex justify-content-center"},K=["disabled","onClick"],O=t("i",{class:"bi bi-dash"},null,-1),Q=[O],W=["onUpdate:modelValue"],X=["disabled","onClick"],Y=t("i",{class:"bi bi-plus"},null,-1),Z=[Y],tt={class:"text-nowrap"},et={class:"d-flex justify-content-center"},ot=["onClick"],st=t("i",{class:"bi bi-trash-fill text-primary"},null,-1),nt=[st],dt=["onClick"],lt=t("i",{class:"bi bi-x-lg text-danger"},null,-1),at=[lt],rt={class:"col-12 col-lg-4"},it={class:"card border-primary"},ct=t("div",{class:"card-header bg-secondary"},[t("h4",{class:"text-center text-dark fw-bold"},"總價")],-1),ut={class:"card-body"},bt={class:"list-unstyled fs-6 fs-md-5 border-bottom mb-0"},_t={class:"d-flex align-items-center justify-content-between mb-4"},pt=t("div",null,"總計",-1),mt={key:0,class:"d-flex align-items-center justify-content-between mb-4"},ht=t("div",{class:"text-danger"},"優惠價",-1),ft={class:"text-danger"},yt={class:"mt-4 border-bottom"},vt={class:"d-flex align-items-center mb-4"},Ct=t("div",{class:"fw-bold"},"限時優惠 9 折",-1),gt={class:"d-flex rounded-pill overflow-hidden border border-2 ms-2"},kt=t("span",{class:"d-flex align-items-center bg-dark text-white fs-6 ps-3 pe-2 py-1 fw-bold"}," funniemilk ",-1),wt=t("i",{class:"bi bi-copy text-dark"},null,-1),xt=[wt],$t={class:"d-flex align-items-center mb-3"},Vt={key:0,class:"input-group mb-3 coupon-input"},jt=t("span",{class:"d-flex align-items-center me-3"},"優惠劵",-1),qt={class:"fs-3 fs-md-2 fw-bold text-center pt-4 pb-2 pt-md-5 pb-md-3"},Lt={key:1,class:"py-5 mb-5"},Nt={class:"text-center pt-4"},Ft=t("h2",{class:"fw-bolder mb-5"},"您尚未有商品加入購物車",-1);function Tt(e,s,At,Bt,u,St){const v=_("VueLoading"),b=_("RouterLink"),C=_("FooterComponent");return n(),d(m,null,[i(v,{active:e.isLoading},null,8,["active"]),t("section",N,[t("div",F,[T,t("div",A,[i(b,{class:"btn btn-primary fw-bold",to:"/products"},{default:p(()=>[B,c("回到商品列表")]),_:1})]),e.cart.total!==0?(n(),d(m,{key:0},[S,t("div",U,[t("div",D,[t("div",I,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:s[0]||(s[0]=(...o)=>e.deleteAllCart&&e.deleteAllCart(...o))},[P,c("清空購物車 ")])]),t("div",R,[t("table",z,[E,t("tbody",M,[(n(!0),d(m,null,x(e.cart.carts,o=>(n(),d("tr",{class:"table-nowrap",key:o.id},[t("td",{class:"fw-bold text-primary cursor-pointer hover-nav",onClick:l=>e.getProduct(o.product_id)},a(o.product.title),9,G),t("td",H,[t("div",J,[t("div",{class:"d-flex justify-content-center align-items-center me-1 cart-qty-width",style:V({cursor:o.qty===1?"not-allowed":"pointer"})},[t("button",{type:"button",class:"btn btn-sm btn-outline-primary rounded-0",disabled:o.qty===1,onClick:l=>(o.qty--,e.updateCart(o))},Q,8,K),f(t("input",{type:"form",class:"form-control text-center rounded-0 border-0",min:"1",max:"99","onUpdate:modelValue":l=>o.qty=l},null,8,W),[[y,o.qty,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-sm btn-outline-primary rounded-0",disabled:o.qty===99,onClick:l=>(o.qty++,e.updateCart(o))},Z,8,X)],4)])]),t("td",tt,a(e.$filters.currency(o.total)),1),t("td",null,[t("div",et,[t("button",{type:"button",class:"btn border-0 d-none d-md-block",onClick:l=>e.removeCartItem(o.id)},nt,8,ot),t("button",{type:"button",class:"btn border-0 d-block d-md-none",onClick:l=>e.removeCartItem(o.id)},at,8,dt)])])]))),128))])])])]),t("div",rt,[t("div",it,[ct,t("div",ut,[t("ul",bt,[t("li",_t,[pt,t("div",null,"NT$"+a(e.$filters.currency(e.cart.total)),1)]),e.cart.final_total!==e.cart.total?(n(),d("li",mt,[ht,t("div",ft,"NT$"+a(e.$filters.currency(e.cart.final_total)),1)])):r("",!0)]),t("div",yt,[t("div",vt,[Ct,t("div",gt,[kt,t("button",{onClick:s[1]||(s[1]=(...o)=>e.copyCouponCode&&e.copyCouponCode(...o)),class:"btn d-flex align-items-center ps-2 pe-3 py-1 border-0 rounded-end rounded-0",type:"button"},xt)])]),t("div",$t,[e.cart.total!==0?(n(),d("div",Vt,[jt,f(t("input",{type:"text",class:"form-control border-primary rounded-start","onUpdate:modelValue":s[2]||(s[2]=o=>u.coupon_code=o),placeholder:"請輸入優惠碼"},null,512),[[y,u.coupon_code]]),t("button",{class:"btn btn-outline-primary",type:"button",onClick:s[3]||(s[3]=o=>e.addCouponCode(u.coupon_code))}," 送出 ")])):r("",!0)])]),t("h4",qt," NT$"+a(e.$filters.currency(e.cart.final_total)),1)]),e.cart.total!==0?(n(),$(b,{key:0,class:"btn btn-primary rounded-0 rounded-bottom py-3 fs-5 fs-md-4",to:"/checkout"},{default:p(()=>[c("前往結帳")]),_:1})):r("",!0)])])])],64)):r("",!0),e.cart.total===0?(n(),d("div",Lt,[t("div",Nt,[Ft,i(b,{class:"btn btn-primary btn-lg fw-bold",to:"/products"},{default:p(()=>[c("來去逛逛吧 !")]),_:1})])])):r("",!0)])]),i(C)],64)}const Pt=g(L,[["render",Tt]]);export{Pt as default};
