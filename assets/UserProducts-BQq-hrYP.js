import{_ as k,m as x,h as v,S as P,i as T,r as y,o,c as r,b as h,a as t,w as m,n as u,e as n,F as b,j as p,f as V,v as $,t as l,k as a}from"./index-CLJhMmLJ.js";import{V as j}from"./VueLoading-Nhs-lj3Z.js";import{F as L}from"./FooterComponent--fa8IJze.js";var N={VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funniecafeweb",BASE_URL:"/vite-milkproject/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API:A,VITE_APP_PATH:E}=N,S={components:{VueLoading:j,FooterComponent:L},data(){return{products:[],search:"",categories:[],selectCategory:"",isLoading:!1,id:""}},methods:{...x(v,["addCart"]),getProducts(){const s=`${A}api/${E}/products/all`;this.search="",this.isLoading=!0,this.$http.get(s).then(c=>{if(this.isLoading=!1,c.data.success){this.products=c.data.products,this.getCategories();const{productCategory:f}=this.$route.params;f&&(this.selectCategory=f)}}).catch(c=>{P("error",`${c.response.data.message}`)})},getCategories(){const s=new Set;this.products.forEach(c=>{s.add(c.category)}),this.categories=[...s]},getProduct(s){this.$router.push(`/product/${s}`)}},computed:{...T(v,["isDone"]),filterProducts(){return this.products.filter(s=>s.category.match(this.selectCategory))},searchProducts(){return this.products.filter(s=>s.title.match(this.search))}},mounted(){this.getProducts()}},D={class:"mb-5"},I={class:"container"},B=t("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner1 container-fluid"},[t("h2",{class:"position-absolute text-center text-white fw-bolder banner-title"},"我們的商品")],-1),F={"aria-label":"breadcrumb",class:"mt-3 mb-md-4 d-flex justify-content-start"},R={class:"breadcrumb"},U={class:"breadcrumb-item"},M=t("li",{class:"breadcrumb-item active","aria-current":"page"},"商品列表",-1),q={class:"row my-5"},H={class:"col-lg-3 mb-4 mb-lg-0"},O={class:"d-none d-md-block"},z=t("h3",{class:"text-start pb-3 fw-bold fs-4 border-bottom border-primary border-2"}," 商品系列 ",-1),G={class:"list-group list-group-flush text-start"},J=t("i",{class:"bi bi-house-heart me-2"},null,-1),K=["onClick"],Q=t("i",{class:"bi bi-house-heart me-2"},null,-1),W={class:"dropdown d-block d-md-none w-100"},X=t("button",{class:"btn btn-secondary dropdown-toggle w-100 fw-bold",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}," 商品系列 ",-1),Y={class:"dropdown-menu w-100","aria-labelledby":"dropdownMenuButton1"},Z=t("i",{class:"bi bi-house-heart me-2"},null,-1),tt=["onClick"],et=t("i",{class:"bi bi-house-heart me-2"},null,-1),st={class:"input-group mt-4 mb-3"},ot={key:0,class:"col-lg-9"},rt={class:"mb-3"},ct={class:"fs-5"},it={class:"fs-4 text-primary fw-bold"},nt=t("i",{class:"bi bi-x-circle pe-1"},null,-1),lt={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3"},at={class:"card product-card w-100 h-100"},dt=["onClick"],ut=["src"],_t=t("span",{class:"seemore-text d-flex justify-content-center align-items-center text-white fw-bold"},[t("i",{class:"bi bi-search pe-1"}),n(" 查看更多 ")],-1),ht={class:"card-body p-3"},bt={class:"d-flex justify-content-start text-primary fw-bold"},pt=t("i",{class:"bi bi-house-heart me-2"},null,-1),ft={class:"card-title fw-bolder text-primary mb-3"},gt={class:"d-flex justify-content-between align-items-center mb-3"},yt={key:0,class:"h5 text-secondary"},mt={key:1,class:"h6 text-secondary"},vt={key:2,class:"h5 text-primary fw-bold"},wt={class:"card-footer border-0 bg-transparent pt-0 pb-3"},Ct=["onClick"],kt=t("i",{class:"bi bi-cart-fill"},null,-1),xt={key:0,class:"col text-center mt-5"},Pt=t("h2",{class:"fw-bolder"},"查無商品",-1),Tt=t("i",{class:"bi bi-bag-x fs-1"},null,-1),Vt=[Pt,Tt],$t={key:1,class:"col-lg-9"},jt={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3"},Lt={class:"card product-card w-100 h-100"},Nt=["onClick"],At=["src"],Et=t("span",{class:"seemore-text d-flex justify-content-center align-items-center text-white fw-bold"},[t("i",{class:"bi bi-search pe-1"}),n(" 查看更多 ")],-1),St={class:"card-body p-3"},Dt={class:"d-flex justify-content-start text-primary fw-bold"},It=t("i",{class:"bi bi-house-heart me-2"},null,-1),Bt={class:"card-title fw-bolder text-primary mb-3"},Ft={class:"d-flex justify-content-between align-items-center mb-3"},Rt={key:0,class:"h5 text-secondary"},Ut={key:1,class:"h6 text-secondary"},Mt={key:2,class:"h5 text-primary fw-bold"},qt={class:"card-footer border-0 bg-transparent pt-0 pb-3"},Ht=["onClick"],Ot=t("i",{class:"bi bi-cart-fill"},null,-1);function zt(s,c,f,Gt,i,d){const w=y("VueLoading"),g=y("RouterLink"),C=y("FooterComponent");return o(),r(b,null,[h(w,{active:i.isLoading},null,8,["active"]),t("section",D,[t("div",I,[B,t("nav",F,[t("ol",R,[t("li",U,[h(g,{to:"/",class:"text-dark hover-nav fw-bold"},{default:m(()=>[n("首頁")]),_:1})]),M])]),t("div",q,[t("div",H,[t("div",O,[z,t("div",G,[t("button",{type:"button",class:u(["list-group-item list-group-item-action fw-bold",{active:i.selectCategory===""}]),"aria-current":"true",onClick:c[0]||(c[0]=e=>i.selectCategory="")},[J,n(" 全部商品 ")],2),(o(!0),r(b,null,p(i.categories,e=>(o(),r("button",{key:e,type:"button",class:u(["list-group-item list-group-item-action fw-bold",{active:e===i.selectCategory}]),onClick:_=>i.selectCategory=e},[Q,n(" 只想喝"+l(e),1)],10,K))),128))])]),t("div",W,[X,t("ul",Y,[t("li",null,[t("button",{onClick:c[1]||(c[1]=e=>i.selectCategory=""),class:u([{active:i.selectCategory===""},"dropdown-item fw-bold"]),type:"button"},[Z,n("全部商品 ")],2)]),t("li",null,[(o(!0),r(b,null,p(i.categories,e=>(o(),r("button",{key:e,class:u([{active:e===i.selectCategory},"dropdown-item fw-bold"]),onClick:_=>i.selectCategory=e,type:"button"},[et,n("只想喝"+l(e),1)],10,tt))),128))])])]),t("div",st,[V(t("input",{type:"text",class:"form-control border border-primary border-2 rounded-0",placeholder:"請輸入搜尋商品","onUpdate:modelValue":c[2]||(c[2]=e=>i.search=e)},null,512),[[$,i.search]])])]),i.search?(o(),r("div",ot,[t("div",rt,[t("div",ct,[n(" 以下為您顯示 "),t("span",it,l(i.search),1),n(" 的結果 "),t("button",{type:"button",class:"btn btn-outline-danger btn-sm ms-2",onClick:c[3]||(c[3]=e=>d.getProducts())},[nt,n("取消搜尋 ")])])]),t("div",lt,[(o(!0),r(b,null,p(d.searchProducts,e=>(o(),r("div",{class:"col mb-4",key:e.id},[t("div",at,[h(g,{to:`/product/${e.id}`},{default:m(()=>[t("div",{class:"product-img cursor-pointer",onClick:_=>d.getProduct(e.id)},[t("img",{src:e.imageUrl,class:"card-img-top object-fit-cover",alt:"productImages"},null,8,ut),_t],8,dt),t("div",ht,[t("div",bt,[t("p",null,[pt,n("只想喝"+l(e.category),1)])]),t("h5",ft,l(e.title),1),t("div",gt,[e.price?a("",!0):(o(),r("div",yt," NT$"+l(s.$filters.currency(e.origin_price)),1)),e.price?(o(),r("del",mt,"NT$"+l(s.$filters.currency(e.origin_price)),1)):a("",!0),e.price?(o(),r("div",vt," NT$"+l(s.$filters.currency(e.price)),1)):a("",!0)])])]),_:2},1032,["to"]),t("div",wt,[t("button",{type:"button",class:u(["btn btn-outline-primary w-100",{disabled:s.isDone===e.id}]),onClick:_=>s.addCart(e.id,s.qty)},[kt,n(" 加入購物車 ")],10,Ct)])])]))),128))]),d.searchProducts.length===0?(o(),r("div",xt,Vt)):a("",!0)])):(o(),r("div",$t,[t("div",jt,[(o(!0),r(b,null,p(d.filterProducts,e=>(o(),r("div",{class:"col mb-4",key:e.id},[t("div",Lt,[h(g,{to:`/product/${e.id}`},{default:m(()=>[t("div",{class:"product-img cursor-pointer",onClick:_=>d.getProduct(e.id)},[t("img",{src:e.imageUrl,class:"card-img-top object-fit-cover",alt:"productImages"},null,8,At),Et],8,Nt),t("div",St,[t("div",Dt,[t("p",null,[It,n("只想喝"+l(e.category),1)])]),t("h5",Bt,l(e.title),1),t("div",Ft,[e.price?a("",!0):(o(),r("div",Rt," NT$"+l(s.$filters.currency(e.origin_price)),1)),e.price?(o(),r("del",Ut,"NT$"+l(s.$filters.currency(e.origin_price)),1)):a("",!0),e.price?(o(),r("div",Mt," NT$"+l(s.$filters.currency(e.price)),1)):a("",!0)])])]),_:2},1032,["to"]),t("div",qt,[t("button",{type:"button",class:u(["btn btn-outline-primary w-100",{disabled:s.isDone===e.id}]),onClick:_=>s.addCart(e.id,s.qty)},[Ot,n(" 加入購物車 ")],10,Ht)])])]))),128))])]))])])]),h(C)],64)}const Wt=k(S,[["render",zt]]);export{Wt as default};
