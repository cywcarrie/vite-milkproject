import{_ as g,m as k,h,i as w,r as _,o as n,c as l,b as r,a as t,g as x,w as p,F as m,e as c,j as $,t as a,k as i,f,v as y,C as V,D as j}from"./index-B3uW6wCA.js";import{V as q}from"./VueLoading-vB_YFBM3.js";import{F as L}from"./FooterComponent-C-bIwhUO.js";const N={components:{VueLoading:q,FooterComponent:L},data(){return{coupon_code:""}},methods:{...k(h,["getCart","updateCart","removeCartItem","deleteAllCart","getProduct","addCouponCode","copyCouponCode"])},computed:{...w(h,["carts","total","final_total","cart","isLoading"])},mounted(){this.getCart()}},F={class:"mb-5"},T={class:"container"},A=t("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner1 container-fluid"},[t("h2",{class:"position-absolute text-center text-white fw-bolder banner-title"},"購物車")],-1),B=t("i",{class:"bi bi-arrow-left-square-fill fs-2"},null,-1),S=[B],U={class:"d-flex justify-content-start mt-3 mb-4"},D=t("i",{class:"bi bi-house-heart pe-2 fs-5"},null,-1),I=t("div",{class:"d-flex justify-content-center mt-5"},[t("h2",{class:"fs-2 fw-bold text-primary"},"我的購物車")],-1),M={class:"row flex-row mt-4 mb-5 py-5 rounded-2"},P={class:"col-12 col-lg-8 mb-5 mb-lg-0"},R={class:"text-end mb-4"},z=t("i",{class:"bi bi-trash pe-1"},null,-1),E={class:"bg-light"},G={class:"table align-middle text-center table-borderless"},H=t("thead",{class:"table-secondary"},[t("tr",null,[t("th",{class:"text-nowrap"},"商品名稱"),t("th",{class:"text-nowrap"},"數量"),t("th",{class:"text-nowrap"},"小計"),t("th",{class:"text-end"})])],-1),J={class:"text-center"},K=["onClick"],O={class:"text-nowrap"},Q={class:"d-flex justify-content-center"},W=["disabled","onClick"],X=t("i",{class:"bi bi-dash"},null,-1),Y=[X],Z=["onUpdate:modelValue"],tt=["disabled","onClick"],et=t("i",{class:"bi bi-plus"},null,-1),ot=[et],st={class:"text-nowrap"},nt={class:"d-flex justify-content-center"},lt=["onClick"],dt=t("i",{class:"bi bi-trash-fill text-primary"},null,-1),at=[dt],it=["onClick"],rt=t("i",{class:"bi bi-x-lg text-danger"},null,-1),ct=[rt],ut={class:"col-12 col-lg-4"},bt={class:"card border-primary"},_t=t("div",{class:"card-header bg-secondary"},[t("h4",{class:"text-center text-dark fw-bold"},"總價")],-1),pt={class:"card-body"},mt={class:"list-unstyled fs-6 fs-md-5 border-bottom mb-0"},ht={class:"d-flex align-items-center justify-content-between mb-4"},ft=t("div",null,"總計",-1),yt={key:0,class:"d-flex align-items-center justify-content-between mb-4"},vt=t("div",{class:"text-danger"},"優惠價",-1),Ct={class:"text-danger"},gt={class:"mt-4 border-bottom"},kt={class:"d-flex align-items-center mb-4"},wt=t("div",{class:"fw-bold"},"限時優惠 9 折",-1),xt={class:"d-flex rounded-pill overflow-hidden border border-2 ms-2"},$t=t("span",{class:"d-flex align-items-center bg-dark text-white fs-6 ps-3 pe-2 py-1 fw-bold"}," funniemilk ",-1),Vt=t("i",{class:"bi bi-copy text-dark"},null,-1),jt=[Vt],qt={class:"d-flex align-items-center mb-3"},Lt={key:0,class:"input-group mb-3 coupon-input"},Nt=t("span",{class:"d-flex align-items-center me-3"},"優惠劵",-1),Ft={class:"fs-3 fs-md-2 fw-bold text-center pt-4 pb-2 pt-md-5 pb-md-3"},Tt={key:1,class:"py-5 mb-5"},At={class:"text-center pt-4"},Bt=t("h2",{class:"fw-bolder mb-5"},"您尚未有商品加入購物車",-1);function St(e,s,Ut,Dt,u,It){const v=_("VueLoading"),b=_("RouterLink"),C=_("FooterComponent");return n(),l(m,null,[r(v,{active:e.isLoading},null,8,["active"]),t("section",F,[t("div",T,[A,t("a",{href:"#",title:"回上一頁",class:"text-black-50 hover-nav fw-bold mt-3",onClick:s[0]||(s[0]=x(o=>e.$router.go(-1),["prevent"]))},S),t("div",U,[r(b,{class:"btn btn-primary fw-bold",to:"/products"},{default:p(()=>[D,c("回到商品列表")]),_:1})]),e.cart.total!==0?(n(),l(m,{key:0},[I,t("div",M,[t("div",P,[t("div",R,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:s[1]||(s[1]=(...o)=>e.deleteAllCart&&e.deleteAllCart(...o))},[z,c("清空購物車 ")])]),t("div",E,[t("table",G,[H,t("tbody",J,[(n(!0),l(m,null,$(e.cart.carts,o=>(n(),l("tr",{class:"table-nowrap",key:o.id},[t("td",{class:"fw-bold text-primary cursor-pointer hover-nav",onClick:d=>e.getProduct(o.product_id)},a(o.product.title),9,K),t("td",O,[t("div",Q,[t("div",{class:"d-flex justify-content-center align-items-center me-1 cart-qty-width",style:j({cursor:o.qty===1?"not-allowed":"pointer"})},[t("button",{type:"button",class:"btn btn-sm btn-outline-primary rounded-0",disabled:o.qty===1,onClick:d=>(o.qty--,e.updateCart(o))},Y,8,W),f(t("input",{type:"form",class:"form-control text-center rounded-0 border-0",min:"1",max:"99","onUpdate:modelValue":d=>o.qty=d},null,8,Z),[[y,o.qty,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-sm btn-outline-primary rounded-0",disabled:o.qty===99,onClick:d=>(o.qty++,e.updateCart(o))},ot,8,tt)],4)])]),t("td",st,a(e.$filters.currency(o.total)),1),t("td",null,[t("div",nt,[t("button",{type:"button",class:"btn border-0 d-none d-md-block",onClick:d=>e.removeCartItem(o.id)},at,8,lt),t("button",{type:"button",class:"btn border-0 d-block d-md-none",onClick:d=>e.removeCartItem(o.id)},ct,8,it)])])]))),128))])])])]),t("div",ut,[t("div",bt,[_t,t("div",pt,[t("ul",mt,[t("li",ht,[ft,t("div",null,"NT$"+a(e.$filters.currency(e.cart.total)),1)]),e.cart.final_total!==e.cart.total?(n(),l("li",yt,[vt,t("div",Ct,"NT$"+a(e.$filters.currency(e.cart.final_total)),1)])):i("",!0)]),t("div",gt,[t("div",kt,[wt,t("div",xt,[$t,t("button",{onClick:s[2]||(s[2]=(...o)=>e.copyCouponCode&&e.copyCouponCode(...o)),class:"btn d-flex align-items-center ps-2 pe-3 py-1 border-0 rounded-end rounded-0",type:"button"},jt)])]),t("div",qt,[e.cart.total!==0?(n(),l("div",Lt,[Nt,f(t("input",{type:"text",class:"form-control border-primary rounded-start","onUpdate:modelValue":s[3]||(s[3]=o=>u.coupon_code=o),placeholder:"請輸入優惠碼"},null,512),[[y,u.coupon_code]]),t("button",{class:"btn btn-outline-primary",type:"button",onClick:s[4]||(s[4]=o=>e.addCouponCode(u.coupon_code))}," 送出 ")])):i("",!0)])]),t("h4",Ft," NT$"+a(e.$filters.currency(e.cart.final_total)),1)]),e.cart.total!==0?(n(),V(b,{key:0,class:"btn btn-primary rounded-0 rounded-bottom py-3 fs-5 fs-md-4",to:"/checkout"},{default:p(()=>[c("前往結帳")]),_:1})):i("",!0)])])])],64)):i("",!0),e.cart.total===0?(n(),l("div",Tt,[t("div",At,[Bt,r(b,{class:"btn btn-primary btn-lg fw-bold",to:"/products"},{default:p(()=>[c("來去逛逛吧 !")]),_:1})])])):i("",!0)])]),r(C)],64)}const zt=g(N,[["render",St]]);export{zt as default};
