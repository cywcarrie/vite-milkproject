import{_ as m,i as h,g as b,u as g,r as v,o as P,c as x,a as l,b as u,w as p,e as _,h as k,S as d,d as A,n as $,F as V}from"./index-CLkijdjE.js";var w={VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funniecafeweb",BASE_URL:"/vite-milkproject/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API:E}=w,I={setup(){const n=h("$axios"),s=b({}),r=g();function e(){const c=`${E}logout`;n.post(c,s.value).then(t=>{t.data.success?(d("success","登出成功"),r.push("/login")):d("error","登出失敗")}).catch(t=>{var o,i;const a=((i=(o=t.response)==null?void 0:o.data)==null?void 0:i.message)||"發生錯誤，請稍後再試";d("error",a)})}return{logout:e}}},T={class:"navbar navbar-expand-lg navbar-dark bg-secondary"},N={class:"container-fluid"},R=A('<a class="navbar-brand" href="#"><h1 class="logo text-primary fs-2 mb-0 fw-bolder me-3"><i class="bi bi-house-heart pe-2"></i>Fun<span class="text-primary">nie</span></h1></a><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>',2),S={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},y={class:"navbar-nav"};function D(n,s,r,e,c,t){const a=v("RouterLink");return P(),x("nav",T,[l("div",N,[R,l("div",S,[l("div",y,[u(a,{to:"/admin/products",class:"nav-link text-primary fw-bold admin-navbar-hover"},{default:p(()=>[_("產品")]),_:1}),u(a,{to:"/admin/orders",class:"nav-link text-primary fw-bold admin-navbar-hover"},{default:p(()=>[_("訂單")]),_:1}),u(a,{to:"/admin/coupons",class:"nav-link text-primary fw-bold admin-navbar-hover"},{default:p(()=>[_("優惠券")]),_:1}),l("a",{href:"#",onClick:s[0]||(s[0]=k((...o)=>e.logout&&e.logout(...o),["prevent"])),class:"nav-link text-primary fw-bold admin-navbar-hover"},"登出")])])])])}const M=m(I,[["render",D]]);var B={VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funniecafeweb",BASE_URL:"/vite-milkproject/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API:L}=B,O={components:{Navbar:M},setup(){const n=h("$axios"),s=b(null),r=g();function e(){const c=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");n.defaults.headers.common.Authorization=c;const t=`${L}api/user/check`;n.post(t,s.value).then(a=>{a.data.success||r.push("/login")}).catch(a=>{var i,f;const o=((f=(i=a.response)==null?void 0:i.data)==null?void 0:f.message)||"發生錯誤，請稍後再試";d("error",o)})}return $(()=>{e()}),{checkUser:e}}},j={class:"container-fluid mt-3 position-relative"};function C(n,s,r,e,c,t){const a=v("Navbar"),o=v("RouterView");return P(),x(V,null,[u(a),l("div",j,[u(o)])],64)}const U=m(O,[["render",C]]);export{U as default};
