import{_ as u,u as p,f as m,o as _,c as f,a as e,g as l,v as d,h,i as b,S as a,e as w}from"./index-If2eL0tu.js";var x={VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funniecafeweb",BASE_URL:"/vite-milkproject/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API:v}=x,P={setup(){const r=p(),s=m({username:"",password:""});function i(){const o=`${v}admin/signin`;b.post(o,s).then(n=>{if(n.data.success){const{token:c,expired:t}=n.data;document.cookie=`hexToken=${c}; expires=${new Date(t)}`,a("success","登入成功"),r.push("/admin/products")}else a("error","登入失敗")}).catch(n=>{a("error",`${n.response.data.message}`)})}return{user:s,signIn:i}}},g={class:"container my-5 py-5"},y={class:"col-md-7 col-lg-4 bg-light p-5 rounded-2"},E=e("h2",{class:"h3 mb-3 text-center text-nowrap font-weight-normal fw-bold text-primary"},[e("i",{class:"bi bi-person-circle pe-2"}),w("管理者後台登入 ")],-1),V={class:"mb-2"},I=e("label",{for:"inputEmail",class:"sr-only"},"Email",-1),k={class:"mb-2"},A=e("label",{for:"inputPassword",class:"sr-only"},"密碼",-1),T=e("div",{class:"text-center mt-4"},[e("button",{class:"btn btn-secondary btn-block px-4 fw-bold",type:"submit"},"登入")],-1);function S(r,s,i,o,n,c){return _(),f("div",g,[e("form",{class:"row justify-content-center py-5 px-3",onSubmit:s[2]||(s[2]=h((...t)=>o.signIn&&o.signIn(...t),["prevent"]))},[e("div",y,[E,e("div",V,[I,l(e("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"Email address",required:"",autofocus:"","onUpdate:modelValue":s[0]||(s[0]=t=>o.user.username=t)},null,512),[[d,o.user.username]])]),e("div",k,[A,l(e("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"Password",required:"","onUpdate:modelValue":s[1]||(s[1]=t=>o.user.password=t)},null,512),[[d,o.user.password]])]),T])],32)])}const B=u(P,[["render",S]]);export{B as default};
