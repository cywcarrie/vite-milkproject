import{_ as j,g as q,k as L,s as N,n as F,r as p,o as d,c as l,b as _,a as t,w as h,F as f,e as b,q as T,t as r,x as i,j as C,v as g,G as B,H as U}from"./index-B9ihJxSl.js";import{V as A}from"./VueLoading-BiyQmFRl.js";import{F as I}from"./FooterComponent-BlvGq1gU.js";const R={components:{VueLoading:A,FooterComponent:I},setup(){const c=q(""),s=L(),{carts:y,total:o,final_total:v,cart:x,isLoading:u}=N(s),{getCart:a,updateCart:m,removeCartItem:e,deleteAllCart:n,getProduct:k,addCouponCode:w,copyCouponCode:V}=s;return F(()=>{a()}),{coupon_code:c,carts:y,total:o,final_total:v,cart:x,isLoading:u,getCart:a,updateCart:m,removeCartItem:e,deleteAllCart:n,getProduct:k,addCouponCode:w,copyCouponCode:V}}},S={class:"mb-5"},D={class:"container"},M=t("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner1 container-fluid"},[t("h2",{class:"position-absolute text-center text-white fw-bolder banner-title"},"購物車")],-1),P={class:"d-flex justify-content-start mt-3 mb-4"},z=t("i",{class:"bi bi-house-heart pe-2 fs-5"},null,-1),E=t("div",{class:"d-flex justify-content-center mt-5"},[t("h2",{class:"fs-2 fw-bold text-primary"},"我的購物車")],-1),G={class:"row flex-row mt-4 mb-5 py-5 rounded-2"},H={class:"col-12 col-lg-8 mb-5 mb-lg-0"},J={class:"text-end mb-4"},K=t("i",{class:"bi bi-trash pe-1"},null,-1),O={class:"bg-light"},Q={class:"table align-middle text-center table-borderless"},W=t("thead",{class:"table-secondary"},[t("tr",null,[t("th",{class:"text-nowrap"},"商品名稱"),t("th",{class:"text-nowrap"},"數量"),t("th",{class:"text-nowrap"},"小計"),t("th",{class:"text-end"})])],-1),X={class:"text-center"},Y=["onClick"],Z={class:"text-nowrap"},$={class:"d-flex justify-content-center"},tt=["disabled","onClick"],ot=t("i",{class:"bi bi-dash"},null,-1),et=[ot],st=["onUpdate:modelValue"],nt=["disabled","onClick"],dt=t("i",{class:"bi bi-plus"},null,-1),lt=[dt],ct={class:"text-nowrap"},at={class:"d-flex justify-content-center"},rt=["onClick"],it=t("i",{class:"bi bi-trash-fill text-primary"},null,-1),_t=[it],bt=["onClick"],ut=t("i",{class:"bi bi-x-lg text-danger"},null,-1),mt=[ut],pt={class:"col-12 col-lg-4"},ht={class:"card border-primary"},ft=t("div",{class:"card-header bg-secondary"},[t("h4",{class:"text-center text-dark fw-bold"},"總價")],-1),yt={class:"card-body"},vt={class:"list-unstyled fs-6 fs-md-5 border-bottom mb-0"},xt={class:"d-flex align-items-center justify-content-between mb-4"},Ct=t("div",null,"總計",-1),gt={key:0,class:"d-flex align-items-center justify-content-between mb-4"},kt=t("div",{class:"text-danger"},"優惠價",-1),wt={class:"text-danger"},Vt={class:"mt-4 border-bottom"},jt={class:"d-flex align-items-center mb-4"},qt=t("div",{class:"fw-bold"},"限時優惠 9 折",-1),Lt={class:"d-flex rounded-pill overflow-hidden border border-2 ms-2"},Nt=t("span",{class:"d-flex align-items-center bg-dark text-white fs-6 ps-3 pe-2 py-1 fw-bold"}," funniemilk ",-1),Ft=t("i",{class:"bi bi-copy text-dark"},null,-1),Tt=[Ft],Bt={class:"d-flex align-items-center mb-3"},Ut={key:0,class:"input-group mb-3 coupon-input"},At=t("span",{class:"d-flex align-items-center me-3"},"優惠劵",-1),It={class:"fs-3 fs-md-2 fw-bold text-center pt-4 pb-2 pt-md-5 pb-md-3"},Rt={key:1,class:"py-5 mb-5"},St={class:"text-center pt-4"},Dt=t("h2",{class:"fw-bolder mb-5"},"您尚未有商品加入購物車",-1);function Mt(c,s,y,o,v,x){const u=p("VueLoading"),a=p("RouterLink"),m=p("FooterComponent");return d(),l(f,null,[_(u,{active:o.isLoading},null,8,["active"]),t("section",S,[t("div",D,[M,t("div",P,[_(a,{class:"btn btn-primary fw-bold",to:"/products"},{default:h(()=>[z,b("回到商品列表")]),_:1})]),o.cart.total!==0?(d(),l(f,{key:0},[E,t("div",G,[t("div",H,[t("div",J,[t("button",{type:"button",class:"btn btn-outline-danger",onClick:s[0]||(s[0]=(...e)=>o.deleteAllCart&&o.deleteAllCart(...e))},[K,b("清空購物車 ")])]),t("div",O,[t("table",Q,[W,t("tbody",X,[(d(!0),l(f,null,T(o.cart.carts,e=>(d(),l("tr",{class:"table-nowrap",key:e.id},[t("td",{class:"fw-bold text-primary cursor-pointer hover-nav",onClick:n=>o.getProduct(e.product_id)},r(e.product.title),9,Y),t("td",Z,[t("div",$,[t("div",{class:"d-flex justify-content-center align-items-center me-1 cart-qty-width",style:U({cursor:e.qty===1?"not-allowed":"pointer"})},[t("button",{type:"button",class:"btn btn-sm btn-outline-primary rounded-0",disabled:e.qty===1,onClick:n=>(e.qty--,o.updateCart(e))},et,8,tt),C(t("input",{type:"form",class:"form-control text-center rounded-0 border-0",min:"1",max:"99","onUpdate:modelValue":n=>e.qty=n},null,8,st),[[g,e.qty,void 0,{number:!0}]]),t("button",{type:"button",class:"btn btn-sm btn-outline-primary rounded-0",disabled:e.qty===99,onClick:n=>(e.qty++,o.updateCart(e))},lt,8,nt)],4)])]),t("td",ct,r(c.$format.currency(e.total)),1),t("td",null,[t("div",at,[t("button",{type:"button",class:"btn border-0 d-none d-md-block",onClick:n=>o.removeCartItem(e.id)},_t,8,rt),t("button",{type:"button",class:"btn border-0 d-block d-md-none",onClick:n=>o.removeCartItem(e.id)},mt,8,bt)])])]))),128))])])])]),t("div",pt,[t("div",ht,[ft,t("div",yt,[t("ul",vt,[t("li",xt,[Ct,t("div",null,"NT$"+r(c.$format.currency(o.cart.total)),1)]),o.cart.final_total!==o.cart.total?(d(),l("li",gt,[kt,t("div",wt,"NT$"+r(c.$format.currency(o.cart.final_total)),1)])):i("",!0)]),t("div",Vt,[t("div",jt,[qt,t("div",Lt,[Nt,t("button",{onClick:s[1]||(s[1]=(...e)=>o.copyCouponCode&&o.copyCouponCode(...e)),class:"btn d-flex align-items-center ps-2 pe-3 py-1 border-0 rounded-end rounded-0",type:"button"},Tt)])]),t("div",Bt,[o.cart.total!==0?(d(),l("div",Ut,[At,C(t("input",{type:"text",class:"form-control border-primary rounded-start","onUpdate:modelValue":s[2]||(s[2]=e=>o.coupon_code=e),placeholder:"請輸入優惠碼"},null,512),[[g,o.coupon_code]]),t("button",{class:"btn btn-outline-primary",type:"button",onClick:s[3]||(s[3]=e=>o.addCouponCode(o.coupon_code))}," 送出 ")])):i("",!0)])]),t("h4",It," NT$"+r(c.$format.currency(o.cart.final_total)),1)]),o.cart.total!==0?(d(),B(a,{key:0,class:"btn btn-primary rounded-0 rounded-bottom py-3 fs-5 fs-md-4",to:"/checkout"},{default:h(()=>[b("前往結帳")]),_:1})):i("",!0)])])])],64)):i("",!0),o.cart.total===0?(d(),l("div",Rt,[t("div",St,[Dt,_(a,{class:"btn btn-primary btn-lg fw-bold",to:"/products"},{default:h(()=>[b("來去逛逛吧 !")]),_:1})])])):i("",!0)])]),_(m)],64)}const Gt=j(R,[["render",Mt]]);export{Gt as default};
