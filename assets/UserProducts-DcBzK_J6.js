import{_ as x,R as P,m as D,h as w,S as T,i as j,r as y,o,c as r,b as h,a as t,w as m,n as u,e as n,F as p,j as b,g as v,f as V,v as L,t as l,k as a}from"./index-B_3VajgM.js";import{F as A}from"./FooterComponent-DRdevdWl.js";var N={VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funniecafeweb",BASE_URL:"/vite-milkproject/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API:E,VITE_APP_PATH:S}=N,B={components:{RouterLink:P,FooterComponent:A},data(){return{products:[],search:"",categories:[],selectCategory:"",isLoading:!1,id:""}},methods:{...D(w,["addCart"]),getProducts(){const s=`${E}api/${S}/products/all`;this.search="",this.isLoading=!0,this.$http.get(s).then(c=>{if(this.isLoading=!1,c.data.success){this.products=c.data.products,this.getCategories();const{productCategory:g}=this.$route.params;g&&(this.selectCategory=g)}}).catch(c=>{T.fire({position:"top-end",icon:"error",title:`${c.response.data.message}`,timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0})})},getCategories(){const s=new Set;this.products.forEach(c=>{s.add(c.category)}),this.categories=[...s]},getProduct(s){this.$router.push(`/product/${s}`)}},computed:{...j(w,["isDone"]),filterProducts(){return this.products.filter(s=>s.category.match(this.selectCategory))},searchProducts(){return this.products.filter(s=>s.title.match(this.search))}},mounted(){this.getProducts()}},I={class:"mb-5"},R={class:"container"},$=t("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner1 container-fluid"},[t("h2",{class:"position-absolute text-center text-white fw-bolder banner-title"},"我們的商品")],-1),F={"aria-label":"breadcrumb",class:"mt-3 mb-md-4 d-flex justify-content-start"},M={class:"breadcrumb"},U={class:"breadcrumb-item"},q=t("li",{class:"breadcrumb-item active","aria-current":"page"},"商品列表",-1),H={class:"row my-5"},O={class:"col-lg-3 mb-4 mb-lg-0"},z={class:"d-none d-md-block"},G=t("h3",{class:"text-start pb-3 fw-bold fs-4 border-bottom border-primary border-2"},"商品系列",-1),J={class:"list-group list-group-flush text-start"},K=t("i",{class:"bi bi-house-heart me-2"},null,-1),Q=["onClick"],W=t("i",{class:"bi bi-house-heart me-2"},null,-1),X={class:"dropdown d-block d-md-none w-100"},Y=t("button",{class:"btn btn-secondary dropdown-toggle w-100 fw-bold",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}," 商品系列 ",-1),Z={class:"dropdown-menu w-100","aria-labelledby":"dropdownMenuButton1"},tt=t("button",{class:"dropdown-item fw-bold",type:"button"},[t("i",{class:"bi bi-house-heart me-2"}),n("全部商品")],-1),et=[tt],st=["onClick"],ot={class:"dropdown-item fw-bold",type:"button"},rt=t("i",{class:"bi bi-house-heart me-2"},null,-1),ct={class:"input-group mt-4 mb-3"},it={key:0,class:"col-lg-9"},nt={class:"mb-3"},lt={class:"fs-5"},at={class:"fs-4 text-primary fw-bold"},dt=t("i",{class:"bi bi-x-circle pe-1"},null,-1),ut={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3"},_t={class:"card product-card w-100 h-100",style:{width:"18rem"}},ht=["onClick"],pt=["src"],bt=t("span",{class:"seemore-text d-flex justify-content-center align-items-center text-white fw-bold"},[t("i",{class:"bi bi-search pe-1"}),n(" 查看更多 ")],-1),gt={class:"card-body p-3"},ft={class:"d-flex justify-content-start text-primary fw-bold"},yt=t("i",{class:"bi bi-house-heart me-2"},null,-1),mt={class:"card-title fw-bolder text-primary mb-3"},vt={class:"d-flex justify-content-between align-items-center mb-3"},wt={key:0,class:"h5 text-secondary"},kt={key:1,class:"h6 text-secondary"},Ct={key:2,class:"h5 text-primary fw-bold"},xt={class:"card-footer border-0 bg-transparent pt-0 pb-3"},Pt=["onClick"],Dt=t("i",{class:"bi bi-cart-fill"},null,-1),Tt={key:0,class:"col text-center mt-5"},jt=t("h2",{class:"fw-bolder"},"查無商品",-1),Vt=t("i",{class:"bi bi-bag-x fs-1"},null,-1),Lt=[jt,Vt],At={key:1,class:"col-lg-9"},Nt={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3"},Et={class:"card product-card w-100 h-100",style:{width:"18rem"}},St=["onClick"],Bt=["src"],It=t("span",{class:"seemore-text d-flex justify-content-center align-items-center text-white fw-bold"},[t("i",{class:"bi bi-search pe-1"}),n(" 查看更多 ")],-1),Rt={class:"card-body p-3"},$t={class:"d-flex justify-content-start text-primary fw-bold"},Ft=t("i",{class:"bi bi-house-heart me-2"},null,-1),Mt={class:"card-title fw-bolder text-primary mb-3"},Ut={class:"d-flex justify-content-between align-items-center mb-3"},qt={key:0,class:"h5 text-secondary"},Ht={key:1,class:"h6 text-secondary"},Ot={key:2,class:"h5 text-primary fw-bold"},zt={class:"card-footer border-0 bg-transparent pt-0 pb-3"},Gt=["onClick"],Jt=t("i",{class:"bi bi-cart-fill"},null,-1);function Kt(s,c,g,Qt,i,d){const k=y("LoadingVue"),f=y("RouterLink"),C=y("FooterComponent");return o(),r(p,null,[h(k,{active:i.isLoading,loader:"spinner",color:"#fca311",width:70,height:70},null,8,["active"]),t("section",I,[t("div",R,[$,t("nav",F,[t("ol",M,[t("li",U,[h(f,{to:"/",class:"text-dark hover-nav fw-bold"},{default:m(()=>[n("首頁")]),_:1})]),q])]),t("div",H,[t("div",O,[t("div",z,[G,t("div",J,[t("button",{type:"button",class:u(["list-group-item list-group-item-action fw-bold",{active:i.selectCategory===""}]),"aria-current":"true",onClick:c[0]||(c[0]=e=>i.selectCategory="")},[K,n(" 全部商品 ")],2),(o(!0),r(p,null,b(i.categories,e=>(o(),r("button",{key:e,type:"button",class:u(["list-group-item list-group-item-action fw-bold",{active:e===i.selectCategory}]),onClick:v(_=>i.selectCategory=e,["prevent"])},[W,n(" 只想喝"+l(e),1)],10,Q))),128))])]),t("div",X,[Y,t("ul",Z,[t("li",{onClick:c[1]||(c[1]=v(e=>i.selectCategory="",["prevent"])),class:u({active:i.selectCategory===""})},et,2),(o(!0),r(p,null,b(i.categories,e=>(o(),r("li",{key:e,class:u({active:e===i.selectCategory}),onClick:v(_=>i.selectCategory=e,["prevent"])},[t("button",ot,[rt,n("只想喝"+l(e),1)])],10,st))),128))])]),t("div",ct,[V(t("input",{type:"text",class:"form-control border border-primary border-2 rounded-0",placeholder:"請輸入搜尋商品","onUpdate:modelValue":c[2]||(c[2]=e=>i.search=e)},null,512),[[L,i.search]])])]),i.search?(o(),r("div",it,[t("div",nt,[t("div",lt,[n(" 以下為您顯示 "),t("span",at,l(i.search),1),n(" 的結果 "),t("button",{type:"button",class:"btn btn-outline-danger btn-sm ms-2",onClick:c[3]||(c[3]=e=>d.getProducts())},[dt,n("取消搜尋 ")])])]),t("div",ut,[(o(!0),r(p,null,b(d.searchProducts,e=>(o(),r("div",{class:"col mb-4",key:e.id},[t("div",_t,[h(f,{to:`/product/${e.id}`},{default:m(()=>[t("div",{class:"product-img cursor-pointer",onClick:_=>d.getProduct(e.id)},[t("img",{style:{height:"180px","background-position":"center"},src:e.imageUrl,class:"card-img-top object-fit-cover",alt:"productImages"},null,8,pt),bt],8,ht),t("div",gt,[t("div",ft,[t("p",null,[yt,n("只想喝"+l(e.category),1)])]),t("h5",mt,l(e.title),1),t("div",vt,[e.price?a("",!0):(o(),r("div",wt,"NTD "+l(s.$filters.currency(e.origin_price)),1)),e.price?(o(),r("del",kt,"NTD "+l(s.$filters.currency(e.origin_price)),1)):a("",!0),e.price?(o(),r("div",Ct," NTD "+l(s.$filters.currency(e.price)),1)):a("",!0)])])]),_:2},1032,["to"]),t("div",xt,[t("button",{type:"button",class:u(["btn btn-outline-primary w-100",{disabled:s.isDone===e.id}]),onClick:_=>s.addCart(e.id,s.qty)},[Dt,n(" 加入購物車 ")],10,Pt)])])]))),128))]),d.searchProducts.length===0?(o(),r("div",Tt,Lt)):a("",!0)])):(o(),r("div",At,[t("div",Nt,[(o(!0),r(p,null,b(d.filterProducts,e=>(o(),r("div",{class:"col mb-4",key:e.id},[t("div",Et,[h(f,{to:`/product/${e.id}`},{default:m(()=>[t("div",{class:"product-img cursor-pointer",onClick:_=>d.getProduct(e.id)},[t("img",{style:{height:"180px","background-position":"center"},src:e.imageUrl,class:"card-img-top object-fit-cover",alt:"productImages"},null,8,Bt),It],8,St),t("div",Rt,[t("div",$t,[t("p",null,[Ft,n("只想喝"+l(e.category),1)])]),t("h5",Mt,l(e.title),1),t("div",Ut,[e.price?a("",!0):(o(),r("div",qt,"NTD "+l(s.$filters.currency(e.origin_price)),1)),e.price?(o(),r("del",Ht,"NTD "+l(s.$filters.currency(e.origin_price)),1)):a("",!0),e.price?(o(),r("div",Ot," NTD "+l(s.$filters.currency(e.price)),1)):a("",!0)])])]),_:2},1032,["to"]),t("div",zt,[t("button",{type:"button",class:u(["btn btn-outline-primary w-100",{disabled:s.isDone===e.id}]),onClick:_=>s.addCart(e.id,s.qty)},[Jt,n(" 加入購物車 ")],10,Gt)])])]))),128))])]))])])]),h(C)],64)}const Yt=x(B,[["render",Kt]]);export{Yt as default};
