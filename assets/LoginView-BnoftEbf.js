import{_ as p,i as m,u as _,f,o as h,c as b,a as s,g as l,v as d,h as w,S as r,e as x}from"./index-tVzfk2aA.js";var v={VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funniecafeweb",BASE_URL:"/vite-milkproject/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API:P}=v,g={setup(){const i=m("$axios"),e=_(),a=f({username:"",password:""});function o(){const c=`${P}admin/signin`;i.post(c,a).then(n=>{if(n.data.success){const{token:t,expired:u}=n.data;document.cookie=`hexToken=${t}; expires=${new Date(u)}`,r("success","登入成功"),e.push("/admin/products")}else r("error","登入失敗")}).catch(n=>{r("error",`${n.response.data.message}`)})}return{user:a,signIn:o}}},y={class:"container my-5 py-5"},E={class:"col-md-7 col-lg-4 bg-light p-5 rounded-2"},V=s("h2",{class:"h3 mb-3 text-center text-nowrap font-weight-normal fw-bold text-primary"},[s("i",{class:"bi bi-person-circle pe-2"}),x("管理者後台登入 ")],-1),I={class:"mb-2"},k=s("label",{for:"inputEmail",class:"sr-only"},"Email",-1),A={class:"mb-2"},T=s("label",{for:"inputPassword",class:"sr-only"},"密碼",-1),S=s("div",{class:"text-center mt-4"},[s("button",{class:"btn btn-secondary btn-block px-4 fw-bold",type:"submit"},"登入")],-1);function D(i,e,a,o,c,n){return h(),b("div",y,[s("form",{class:"row justify-content-center py-5 px-3",onSubmit:e[2]||(e[2]=w((...t)=>o.signIn&&o.signIn(...t),["prevent"]))},[s("div",E,[V,s("div",I,[k,l(s("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"Email address",required:"",autofocus:"","onUpdate:modelValue":e[0]||(e[0]=t=>o.user.username=t)},null,512),[[d,o.user.username]])]),s("div",A,[T,l(s("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"Password",required:"","onUpdate:modelValue":e[1]||(e[1]=t=>o.user.password=t)},null,512),[[d,o.user.password]])]),S])],32)])}const R=p(g,[["render",D]]);export{R as default};
