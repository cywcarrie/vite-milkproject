import{_ as x,R as P,m as j,h as w,S as D,i as L,r as y,o,c as r,b as _,a as t,w as m,n as u,e as n,F as b,j as p,g as v,f as N,v as T,t as l,k as d}from"./index-i6VMP_57.js";import{F as B}from"./FooterComponent-DATOqMFr.js";const V={components:{RouterLink:P,FooterComponent:B},data(){return{products:[],search:"",categories:[],selectCategory:"",isLoading:!1,id:""}},methods:{...j(w,["addCart"]),getProducts(){const s="https://vue3-course-api.hexschool.io/api/funniecafeweb/products/all";this.search="",this.isLoading=!0,this.$http.get(s).then(c=>{if(this.isLoading=!1,c.data.success){this.products=c.data.products,this.getCategories();const{productCategory:g}=this.$route.params;g&&(this.selectCategory=g)}}).catch(c=>{D.fire({position:"top-end",icon:"error",title:`${c.response.data.message}`,timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0})})},getCategories(){const s=new Set;this.products.forEach(c=>{s.add(c.category)}),this.categories=[...s]},getProduct(s){this.$router.push(`/product/${s}`)}},computed:{...L(w,["isDone"]),filterProducts(){return this.products.filter(s=>s.category.match(this.selectCategory))},searchProducts(){return this.products.filter(s=>s.title.match(this.search))}},mounted(){this.getProducts()}},$={class:"mb-5"},F={class:"container"},S=t("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner1 container-fluid"},[t("h2",{class:"position-absolute text-center text-white fw-bolder banner-title"},"我們的商品")],-1),M={"aria-label":"breadcrumb",class:"mt-3 mb-md-4 d-flex justify-content-start"},R={class:"breadcrumb"},U={class:"breadcrumb-item"},q=t("li",{class:"breadcrumb-item active","aria-current":"page"},"商品列表",-1),E={class:"row my-5"},I={class:"col-lg-3 mb-4 mb-lg-0"},z={class:"d-none d-md-block"},A=t("h3",{class:"text-start pb-3 fw-bold fs-4 border-bottom border-primary border-2"},"商品系列",-1),G={class:"list-group list-group-flush text-start"},H=t("i",{class:"bi bi-house-heart me-2"},null,-1),J=["onClick"],K=t("i",{class:"bi bi-house-heart me-2"},null,-1),O={class:"dropdown d-block d-md-none w-100"},Q=t("button",{class:"btn btn-secondary dropdown-toggle w-100 fw-bold",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}," 商品系列 ",-1),W={class:"dropdown-menu w-100","aria-labelledby":"dropdownMenuButton1"},X=t("button",{class:"dropdown-item fw-bold",type:"button"},[t("i",{class:"bi bi-house-heart me-2"}),n("全部商品")],-1),Y=[X],Z=["onClick"],tt={class:"dropdown-item fw-bold",type:"button"},et=t("i",{class:"bi bi-house-heart me-2"},null,-1),st={class:"input-group mt-4 mb-3"},ot={key:0,class:"col-lg-9"},rt={class:"mb-3"},ct={class:"fs-5"},it={class:"fs-4 text-primary fw-bold"},nt=t("i",{class:"bi bi-x-circle pe-1"},null,-1),lt={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3"},dt={class:"card product-card w-100 h-100",style:{width:"18rem"}},at=["onClick"],ut=["src"],ht=t("span",{class:"seemore-text d-flex justify-content-center align-items-center text-white fw-bold"},[t("i",{class:"bi bi-search pe-1"}),n(" 查看更多 ")],-1),_t={class:"card-body p-3"},bt={class:"d-flex justify-content-start text-primary fw-bold"},pt=t("i",{class:"bi bi-house-heart me-2"},null,-1),gt={class:"card-title fw-bolder text-primary mb-3"},ft={class:"d-flex justify-content-between align-items-center mb-3"},yt={key:0,class:"h5 text-secondary"},mt={key:1,class:"h6 text-secondary"},vt={key:2,class:"h5 text-primary fw-bold"},wt={class:"card-footer border-0 bg-transparent pt-0 pb-3"},kt=["onClick"],Ct=t("i",{class:"bi bi-cart-fill"},null,-1),xt={key:0,class:"col text-center mt-5"},Pt=t("h2",{class:"fw-bolder"},"查無商品",-1),jt=t("i",{class:"bi bi-bag-x fs-1"},null,-1),Dt=[Pt,jt],Lt={key:1,class:"col-lg-9"},Nt={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3"},Tt={class:"card product-card w-100 h-100",style:{width:"18rem"}},Bt=["onClick"],Vt=["src"],$t=t("span",{class:"seemore-text d-flex justify-content-center align-items-center text-white fw-bold"},[t("i",{class:"bi bi-search pe-1"}),n(" 查看更多 ")],-1),Ft={class:"card-body p-3"},St={class:"d-flex justify-content-start text-primary fw-bold"},Mt=t("i",{class:"bi bi-house-heart me-2"},null,-1),Rt={class:"card-title fw-bolder text-primary mb-3"},Ut={class:"d-flex justify-content-between align-items-center mb-3"},qt={key:0,class:"h5 text-secondary"},Et={key:1,class:"h6 text-secondary"},It={key:2,class:"h5 text-primary fw-bold"},zt={class:"card-footer border-0 bg-transparent pt-0 pb-3"},At=["onClick"],Gt=t("i",{class:"bi bi-cart-fill"},null,-1);function Ht(s,c,g,Jt,i,a){const k=y("LoadingVue"),f=y("RouterLink"),C=y("FooterComponent");return o(),r(b,null,[_(k,{active:i.isLoading,loader:"spinner",color:"#fca311",width:70,height:70},null,8,["active"]),t("section",$,[t("div",F,[S,t("nav",M,[t("ol",R,[t("li",U,[_(f,{to:"/",class:"text-dark hover-nav fw-bold"},{default:m(()=>[n("首頁")]),_:1})]),q])]),t("div",E,[t("div",I,[t("div",z,[A,t("div",G,[t("button",{type:"button",class:u(["list-group-item list-group-item-action fw-bold",{active:i.selectCategory===""}]),"aria-current":"true",onClick:c[0]||(c[0]=e=>i.selectCategory="")},[H,n(" 全部商品 ")],2),(o(!0),r(b,null,p(i.categories,e=>(o(),r("button",{key:e,type:"button",class:u(["list-group-item list-group-item-action fw-bold",{active:e===i.selectCategory}]),onClick:v(h=>i.selectCategory=e,["prevent"])},[K,n(" 只想喝"+l(e),1)],10,J))),128))])]),t("div",O,[Q,t("ul",W,[t("li",{onClick:c[1]||(c[1]=v(e=>i.selectCategory="",["prevent"])),class:u({active:i.selectCategory===""})},Y,2),(o(!0),r(b,null,p(i.categories,e=>(o(),r("li",{key:e,class:u({active:e===i.selectCategory}),onClick:v(h=>i.selectCategory=e,["prevent"])},[t("button",tt,[et,n("只想喝"+l(e),1)])],10,Z))),128))])]),t("div",st,[N(t("input",{type:"text",class:"form-control border border-primary border-2 rounded-0",placeholder:"請輸入搜尋商品","onUpdate:modelValue":c[2]||(c[2]=e=>i.search=e)},null,512),[[T,i.search]])])]),i.search?(o(),r("div",ot,[t("div",rt,[t("div",ct,[n(" 以下為您顯示 "),t("span",it,l(i.search),1),n(" 的結果 "),t("button",{type:"button",class:"btn btn-outline-danger btn-sm ms-2",onClick:c[3]||(c[3]=e=>a.getProducts())},[nt,n("取消搜尋 ")])])]),t("div",lt,[(o(!0),r(b,null,p(a.searchProducts,e=>(o(),r("div",{class:"col mb-4",key:e.id},[t("div",dt,[_(f,{to:`/product/${e.id}`},{default:m(()=>[t("div",{class:"product-img cursor-pointer",onClick:h=>a.getProduct(e.id)},[t("img",{style:{height:"180px","background-position":"center"},src:e.imageUrl,class:"card-img-top object-fit-cover",alt:"productImages"},null,8,ut),ht],8,at),t("div",_t,[t("div",bt,[t("p",null,[pt,n("只想喝"+l(e.category),1)])]),t("h5",gt,l(e.title),1),t("div",ft,[e.price?d("",!0):(o(),r("div",yt,"NTD "+l(s.$filters.currency(e.origin_price)),1)),e.price?(o(),r("del",mt,"NTD "+l(s.$filters.currency(e.origin_price)),1)):d("",!0),e.price?(o(),r("div",vt," NTD "+l(s.$filters.currency(e.price)),1)):d("",!0)])])]),_:2},1032,["to"]),t("div",wt,[t("button",{type:"button",class:u(["btn btn-outline-primary w-100",{disabled:s.isDone===e.id}]),onClick:h=>s.addCart(e.id,s.qty)},[Ct,n(" 加入購物車 ")],10,kt)])])]))),128))]),a.searchProducts.length===0?(o(),r("div",xt,Dt)):d("",!0)])):(o(),r("div",Lt,[t("div",Nt,[(o(!0),r(b,null,p(a.filterProducts,e=>(o(),r("div",{class:"col mb-4",key:e.id},[t("div",Tt,[_(f,{to:`/product/${e.id}`},{default:m(()=>[t("div",{class:"product-img cursor-pointer",onClick:h=>a.getProduct(e.id)},[t("img",{style:{height:"180px","background-position":"center"},src:e.imageUrl,class:"card-img-top object-fit-cover",alt:"productImages"},null,8,Vt),$t],8,Bt),t("div",Ft,[t("div",St,[t("p",null,[Mt,n("只想喝"+l(e.category),1)])]),t("h5",Rt,l(e.title),1),t("div",Ut,[e.price?d("",!0):(o(),r("div",qt,"NTD "+l(s.$filters.currency(e.origin_price)),1)),e.price?(o(),r("del",Et,"NTD "+l(s.$filters.currency(e.origin_price)),1)):d("",!0),e.price?(o(),r("div",It," NTD "+l(s.$filters.currency(e.price)),1)):d("",!0)])])]),_:2},1032,["to"]),t("div",zt,[t("button",{type:"button",class:u(["btn btn-outline-primary w-100",{disabled:s.isDone===e.id}]),onClick:h=>s.addCart(e.id,s.qty)},[Gt,n(" 加入購物車 ")],10,At)])])]))),128))])]))])])]),_(C)],64)}const Qt=x(V,[["render",Ht]]);export{Qt as default};
