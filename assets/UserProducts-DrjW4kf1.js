import{_ as k,m as x,h as v,S as P,i as T,r as m,o,c as r,b as h,a as t,w as y,n as u,e as n,F as b,j as p,f as $,v as j,t as l,k as a}from"./index-ChCCX6HX.js";import{F as V}from"./FooterComponent-BrYG6ppx.js";var A={VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funniecafeweb",BASE_URL:"/vite-milkproject/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API:L,VITE_APP_PATH:N}=A,E={components:{FooterComponent:V},data(){return{products:[],search:"",categories:[],selectCategory:"",isLoading:!1,id:""}},methods:{...x(v,["addCart"]),getProducts(){const s=`${L}api/${N}/products/all`;this.search="",this.isLoading=!0,this.$http.get(s).then(c=>{if(this.isLoading=!1,c.data.success){this.products=c.data.products,this.getCategories();const{productCategory:f}=this.$route.params;f&&(this.selectCategory=f)}}).catch(c=>{P.fire({position:"top-end",icon:"error",title:`${c.response.data.message}`,timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0})})},getCategories(){const s=new Set;this.products.forEach(c=>{s.add(c.category)}),this.categories=[...s]},getProduct(s){this.$router.push(`/product/${s}`)}},computed:{...T(v,["isDone"]),filterProducts(){return this.products.filter(s=>s.category.match(this.selectCategory))},searchProducts(){return this.products.filter(s=>s.title.match(this.search))}},mounted(){this.getProducts()}},S={class:"mb-5"},B={class:"container"},D=t("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner1 container-fluid"},[t("h2",{class:"position-absolute text-center text-white fw-bolder banner-title"},"我們的商品")],-1),I={"aria-label":"breadcrumb",class:"mt-3 mb-md-4 d-flex justify-content-start"},F={class:"breadcrumb"},R={class:"breadcrumb-item"},U=t("li",{class:"breadcrumb-item active","aria-current":"page"},"商品列表",-1),M={class:"row my-5"},q={class:"col-lg-3 mb-4 mb-lg-0"},H={class:"d-none d-md-block"},O=t("h3",{class:"text-start pb-3 fw-bold fs-4 border-bottom border-primary border-2"},"商品系列",-1),z={class:"list-group list-group-flush text-start"},G=t("i",{class:"bi bi-house-heart me-2"},null,-1),J=["onClick"],K=t("i",{class:"bi bi-house-heart me-2"},null,-1),Q={class:"dropdown d-block d-md-none w-100"},W=t("button",{class:"btn btn-secondary dropdown-toggle w-100 fw-bold",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}," 商品系列 ",-1),X={class:"dropdown-menu w-100","aria-labelledby":"dropdownMenuButton1"},Y=t("i",{class:"bi bi-house-heart me-2"},null,-1),Z=["onClick"],tt=t("i",{class:"bi bi-house-heart me-2"},null,-1),et={class:"input-group mt-4 mb-3"},st={key:0,class:"col-lg-9"},ot={class:"mb-3"},rt={class:"fs-5"},ct={class:"fs-4 text-primary fw-bold"},it=t("i",{class:"bi bi-x-circle pe-1"},null,-1),nt={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3"},lt={class:"card product-card w-100 h-100"},at=["onClick"],dt=["src"],ut=t("span",{class:"seemore-text d-flex justify-content-center align-items-center text-white fw-bold"},[t("i",{class:"bi bi-search pe-1"}),n(" 查看更多 ")],-1),_t={class:"card-body p-3"},ht={class:"d-flex justify-content-start text-primary fw-bold"},bt=t("i",{class:"bi bi-house-heart me-2"},null,-1),pt={class:"card-title fw-bolder text-primary mb-3"},ft={class:"d-flex justify-content-between align-items-center mb-3"},gt={key:0,class:"h5 text-secondary"},mt={key:1,class:"h6 text-secondary"},yt={key:2,class:"h5 text-primary fw-bold"},vt={class:"card-footer border-0 bg-transparent pt-0 pb-3"},wt=["onClick"],Ct=t("i",{class:"bi bi-cart-fill"},null,-1),kt={key:0,class:"col text-center mt-5"},xt=t("h2",{class:"fw-bolder"},"查無商品",-1),Pt=t("i",{class:"bi bi-bag-x fs-1"},null,-1),Tt=[xt,Pt],$t={key:1,class:"col-lg-9"},jt={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3"},Vt={class:"card product-card w-100 h-100"},At=["onClick"],Lt=["src"],Nt=t("span",{class:"seemore-text d-flex justify-content-center align-items-center text-white fw-bold"},[t("i",{class:"bi bi-search pe-1"}),n(" 查看更多 ")],-1),Et={class:"card-body p-3"},St={class:"d-flex justify-content-start text-primary fw-bold"},Bt=t("i",{class:"bi bi-house-heart me-2"},null,-1),Dt={class:"card-title fw-bolder text-primary mb-3"},It={class:"d-flex justify-content-between align-items-center mb-3"},Ft={key:0,class:"h5 text-secondary"},Rt={key:1,class:"h6 text-secondary"},Ut={key:2,class:"h5 text-primary fw-bold"},Mt={class:"card-footer border-0 bg-transparent pt-0 pb-3"},qt=["onClick"],Ht=t("i",{class:"bi bi-cart-fill"},null,-1);function Ot(s,c,f,zt,i,d){const w=m("LoadingVue"),g=m("RouterLink"),C=m("FooterComponent");return o(),r(b,null,[h(w,{active:i.isLoading,loader:"spinner",color:"#fca311",width:70,height:70},null,8,["active"]),t("section",S,[t("div",B,[D,t("nav",I,[t("ol",F,[t("li",R,[h(g,{to:"/",class:"text-dark hover-nav fw-bold"},{default:y(()=>[n("首頁")]),_:1})]),U])]),t("div",M,[t("div",q,[t("div",H,[O,t("div",z,[t("button",{type:"button",class:u(["list-group-item list-group-item-action fw-bold",{active:i.selectCategory===""}]),"aria-current":"true",onClick:c[0]||(c[0]=e=>i.selectCategory="")},[G,n(" 全部商品 ")],2),(o(!0),r(b,null,p(i.categories,e=>(o(),r("button",{key:e,type:"button",class:u(["list-group-item list-group-item-action fw-bold",{active:e===i.selectCategory}]),onClick:_=>i.selectCategory=e},[K,n(" 只想喝"+l(e),1)],10,J))),128))])]),t("div",Q,[W,t("ul",X,[t("li",null,[t("button",{onClick:c[1]||(c[1]=e=>i.selectCategory=""),class:u([{active:i.selectCategory===""},"dropdown-item fw-bold"]),type:"button"},[Y,n("全部商品")],2)]),t("li",null,[(o(!0),r(b,null,p(i.categories,e=>(o(),r("button",{key:e,class:u([{active:e===i.selectCategory},"dropdown-item fw-bold"]),onClick:_=>i.selectCategory=e,type:"button"},[tt,n("只想喝"+l(e),1)],10,Z))),128))])])]),t("div",et,[$(t("input",{type:"text",class:"form-control border border-primary border-2 rounded-0",placeholder:"請輸入搜尋商品","onUpdate:modelValue":c[2]||(c[2]=e=>i.search=e)},null,512),[[j,i.search]])])]),i.search?(o(),r("div",st,[t("div",ot,[t("div",rt,[n(" 以下為您顯示 "),t("span",ct,l(i.search),1),n(" 的結果 "),t("button",{type:"button",class:"btn btn-outline-danger btn-sm ms-2",onClick:c[3]||(c[3]=e=>d.getProducts())},[it,n("取消搜尋 ")])])]),t("div",nt,[(o(!0),r(b,null,p(d.searchProducts,e=>(o(),r("div",{class:"col mb-4",key:e.id},[t("div",lt,[h(g,{to:`/product/${e.id}`},{default:y(()=>[t("div",{class:"product-img cursor-pointer",onClick:_=>d.getProduct(e.id)},[t("img",{src:e.imageUrl,class:"card-img-top object-fit-cover",alt:"productImages"},null,8,dt),ut],8,at),t("div",_t,[t("div",ht,[t("p",null,[bt,n("只想喝"+l(e.category),1)])]),t("h5",pt,l(e.title),1),t("div",ft,[e.price?a("",!0):(o(),r("div",gt,"NT$"+l(s.$filters.currency(e.origin_price)),1)),e.price?(o(),r("del",mt,"NT$"+l(s.$filters.currency(e.origin_price)),1)):a("",!0),e.price?(o(),r("div",yt," NT$"+l(s.$filters.currency(e.price)),1)):a("",!0)])])]),_:2},1032,["to"]),t("div",vt,[t("button",{type:"button",class:u(["btn btn-outline-primary w-100",{disabled:s.isDone===e.id}]),onClick:_=>s.addCart(e.id,s.qty)},[Ct,n(" 加入購物車 ")],10,wt)])])]))),128))]),d.searchProducts.length===0?(o(),r("div",kt,Tt)):a("",!0)])):(o(),r("div",$t,[t("div",jt,[(o(!0),r(b,null,p(d.filterProducts,e=>(o(),r("div",{class:"col mb-4",key:e.id},[t("div",Vt,[h(g,{to:`/product/${e.id}`},{default:y(()=>[t("div",{class:"product-img cursor-pointer",onClick:_=>d.getProduct(e.id)},[t("img",{src:e.imageUrl,class:"card-img-top object-fit-cover",alt:"productImages"},null,8,Lt),Nt],8,At),t("div",Et,[t("div",St,[t("p",null,[Bt,n("只想喝"+l(e.category),1)])]),t("h5",Dt,l(e.title),1),t("div",It,[e.price?a("",!0):(o(),r("div",Ft,"NT$"+l(s.$filters.currency(e.origin_price)),1)),e.price?(o(),r("del",Rt,"NT$"+l(s.$filters.currency(e.origin_price)),1)):a("",!0),e.price?(o(),r("div",Ut," NT$"+l(s.$filters.currency(e.price)),1)):a("",!0)])])]),_:2},1032,["to"]),t("div",Mt,[t("button",{type:"button",class:u(["btn btn-outline-primary w-100",{disabled:s.isDone===e.id}]),onClick:_=>s.addCart(e.id,s.qty)},[Ht,n(" 加入購物車 ")],10,qt)])])]))),128))])]))])])]),h(C)],64)}const Kt=k(E,[["render",Ot]]);export{Kt as default};
