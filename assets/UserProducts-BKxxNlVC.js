import{_ as x,m as P,h as w,S as D,i as T,r as y,o,c as r,b as h,a as t,w as m,n as u,e as n,F as p,j as b,g as v,f as j,v as V,t as l,k as d}from"./index-Cq1FxTXo.js";import{F as A}from"./FooterComponent-DoISx78R.js";var L={VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funniecafeweb",BASE_URL:"/vite-milkproject/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API:N,VITE_APP_PATH:E}=L,S={components:{FooterComponent:A},data(){return{products:[],search:"",categories:[],selectCategory:"",isLoading:!1,id:""}},methods:{...P(w,["addCart"]),getProducts(){const s=`${N}api/${E}/products/all`;this.search="",this.isLoading=!0,this.$http.get(s).then(c=>{if(this.isLoading=!1,c.data.success){this.products=c.data.products,this.getCategories();const{productCategory:g}=this.$route.params;g&&(this.selectCategory=g)}}).catch(c=>{D.fire({position:"top-end",icon:"error",title:`${c.response.data.message}`,timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0})})},getCategories(){const s=new Set;this.products.forEach(c=>{s.add(c.category)}),this.categories=[...s]},getProduct(s){this.$router.push(`/product/${s}`)}},computed:{...T(w,["isDone"]),filterProducts(){return this.products.filter(s=>s.category.match(this.selectCategory))},searchProducts(){return this.products.filter(s=>s.title.match(this.search))}},mounted(){this.getProducts()}},B={class:"mb-5"},I={class:"container"},$=t("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner1 container-fluid"},[t("h2",{class:"position-absolute text-center text-white fw-bolder banner-title"},"我們的商品")],-1),F={"aria-label":"breadcrumb",class:"mt-3 mb-md-4 d-flex justify-content-start"},M={class:"breadcrumb"},R={class:"breadcrumb-item"},U=t("li",{class:"breadcrumb-item active","aria-current":"page"},"商品列表",-1),q={class:"row my-5"},H={class:"col-lg-3 mb-4 mb-lg-0"},O={class:"d-none d-md-block"},z=t("h3",{class:"text-start pb-3 fw-bold fs-4 border-bottom border-primary border-2"},"商品系列",-1),G={class:"list-group list-group-flush text-start"},J=t("i",{class:"bi bi-house-heart me-2"},null,-1),K=["onClick"],Q=t("i",{class:"bi bi-house-heart me-2"},null,-1),W={class:"dropdown d-block d-md-none w-100"},X=t("button",{class:"btn btn-secondary dropdown-toggle w-100 fw-bold",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"}," 商品系列 ",-1),Y={class:"dropdown-menu w-100","aria-labelledby":"dropdownMenuButton1"},Z=t("button",{class:"dropdown-item fw-bold",type:"button"},[t("i",{class:"bi bi-house-heart me-2"}),n("全部商品")],-1),tt=[Z],et=["onClick"],st={class:"dropdown-item fw-bold",type:"button"},ot=t("i",{class:"bi bi-house-heart me-2"},null,-1),rt={class:"input-group mt-4 mb-3"},ct={key:0,class:"col-lg-9"},it={class:"mb-3"},nt={class:"fs-5"},lt={class:"fs-4 text-primary fw-bold"},dt=t("i",{class:"bi bi-x-circle pe-1"},null,-1),at={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3"},ut={class:"card product-card w-100 h-100",style:{width:"18rem"}},_t=["onClick"],ht=["src"],pt=t("span",{class:"seemore-text d-flex justify-content-center align-items-center text-white fw-bold"},[t("i",{class:"bi bi-search pe-1"}),n(" 查看更多 ")],-1),bt={class:"card-body p-3"},gt={class:"d-flex justify-content-start text-primary fw-bold"},ft=t("i",{class:"bi bi-house-heart me-2"},null,-1),yt={class:"card-title fw-bolder text-primary mb-3"},mt={class:"d-flex justify-content-between align-items-center mb-3"},vt={key:0,class:"h5 text-secondary"},wt={key:1,class:"h6 text-secondary"},kt={key:2,class:"h5 text-primary fw-bold"},Ct={class:"card-footer border-0 bg-transparent pt-0 pb-3"},xt=["onClick"],Pt=t("i",{class:"bi bi-cart-fill"},null,-1),Dt={key:0,class:"col text-center mt-5"},Tt=t("h2",{class:"fw-bolder"},"查無商品",-1),jt=t("i",{class:"bi bi-bag-x fs-1"},null,-1),Vt=[Tt,jt],At={key:1,class:"col-lg-9"},Lt={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3"},Nt={class:"card product-card w-100 h-100",style:{width:"18rem"}},Et=["onClick"],St=["src"],Bt=t("span",{class:"seemore-text d-flex justify-content-center align-items-center text-white fw-bold"},[t("i",{class:"bi bi-search pe-1"}),n(" 查看更多 ")],-1),It={class:"card-body p-3"},$t={class:"d-flex justify-content-start text-primary fw-bold"},Ft=t("i",{class:"bi bi-house-heart me-2"},null,-1),Mt={class:"card-title fw-bolder text-primary mb-3"},Rt={class:"d-flex justify-content-between align-items-center mb-3"},Ut={key:0,class:"h5 text-secondary"},qt={key:1,class:"h6 text-secondary"},Ht={key:2,class:"h5 text-primary fw-bold"},Ot={class:"card-footer border-0 bg-transparent pt-0 pb-3"},zt=["onClick"],Gt=t("i",{class:"bi bi-cart-fill"},null,-1);function Jt(s,c,g,Kt,i,a){const k=y("LoadingVue"),f=y("RouterLink"),C=y("FooterComponent");return o(),r(p,null,[h(k,{active:i.isLoading,loader:"spinner",color:"#fca311",width:70,height:70},null,8,["active"]),t("section",B,[t("div",I,[$,t("nav",F,[t("ol",M,[t("li",R,[h(f,{to:"/",class:"text-dark hover-nav fw-bold"},{default:m(()=>[n("首頁")]),_:1})]),U])]),t("div",q,[t("div",H,[t("div",O,[z,t("div",G,[t("button",{type:"button",class:u(["list-group-item list-group-item-action fw-bold",{active:i.selectCategory===""}]),"aria-current":"true",onClick:c[0]||(c[0]=e=>i.selectCategory="")},[J,n(" 全部商品 ")],2),(o(!0),r(p,null,b(i.categories,e=>(o(),r("button",{key:e,type:"button",class:u(["list-group-item list-group-item-action fw-bold",{active:e===i.selectCategory}]),onClick:v(_=>i.selectCategory=e,["prevent"])},[Q,n(" 只想喝"+l(e),1)],10,K))),128))])]),t("div",W,[X,t("ul",Y,[t("li",{onClick:c[1]||(c[1]=v(e=>i.selectCategory="",["prevent"])),class:u({active:i.selectCategory===""})},tt,2),(o(!0),r(p,null,b(i.categories,e=>(o(),r("li",{key:e,class:u({active:e===i.selectCategory}),onClick:v(_=>i.selectCategory=e,["prevent"])},[t("button",st,[ot,n("只想喝"+l(e),1)])],10,et))),128))])]),t("div",rt,[j(t("input",{type:"text",class:"form-control border border-primary border-2 rounded-0",placeholder:"請輸入搜尋商品","onUpdate:modelValue":c[2]||(c[2]=e=>i.search=e)},null,512),[[V,i.search]])])]),i.search?(o(),r("div",ct,[t("div",it,[t("div",nt,[n(" 以下為您顯示 "),t("span",lt,l(i.search),1),n(" 的結果 "),t("button",{type:"button",class:"btn btn-outline-danger btn-sm ms-2",onClick:c[3]||(c[3]=e=>a.getProducts())},[dt,n("取消搜尋 ")])])]),t("div",at,[(o(!0),r(p,null,b(a.searchProducts,e=>(o(),r("div",{class:"col mb-4",key:e.id},[t("div",ut,[h(f,{to:`/product/${e.id}`},{default:m(()=>[t("div",{class:"product-img cursor-pointer",onClick:_=>a.getProduct(e.id)},[t("img",{style:{height:"180px","background-position":"center"},src:e.imageUrl,class:"card-img-top object-fit-cover",alt:"productImages"},null,8,ht),pt],8,_t),t("div",bt,[t("div",gt,[t("p",null,[ft,n("只想喝"+l(e.category),1)])]),t("h5",yt,l(e.title),1),t("div",mt,[e.price?d("",!0):(o(),r("div",vt,"NTD "+l(s.$filters.currency(e.origin_price)),1)),e.price?(o(),r("del",wt,"NTD "+l(s.$filters.currency(e.origin_price)),1)):d("",!0),e.price?(o(),r("div",kt," NTD "+l(s.$filters.currency(e.price)),1)):d("",!0)])])]),_:2},1032,["to"]),t("div",Ct,[t("button",{type:"button",class:u(["btn btn-outline-primary w-100",{disabled:s.isDone===e.id}]),onClick:_=>s.addCart(e.id,s.qty)},[Pt,n(" 加入購物車 ")],10,xt)])])]))),128))]),a.searchProducts.length===0?(o(),r("div",Dt,Vt)):d("",!0)])):(o(),r("div",At,[t("div",Lt,[(o(!0),r(p,null,b(a.filterProducts,e=>(o(),r("div",{class:"col mb-4",key:e.id},[t("div",Nt,[h(f,{to:`/product/${e.id}`},{default:m(()=>[t("div",{class:"product-img cursor-pointer",onClick:_=>a.getProduct(e.id)},[t("img",{style:{height:"180px","background-position":"center"},src:e.imageUrl,class:"card-img-top object-fit-cover",alt:"productImages"},null,8,St),Bt],8,Et),t("div",It,[t("div",$t,[t("p",null,[Ft,n("只想喝"+l(e.category),1)])]),t("h5",Mt,l(e.title),1),t("div",Rt,[e.price?d("",!0):(o(),r("div",Ut,"NTD "+l(s.$filters.currency(e.origin_price)),1)),e.price?(o(),r("del",qt,"NTD "+l(s.$filters.currency(e.origin_price)),1)):d("",!0),e.price?(o(),r("div",Ht," NTD "+l(s.$filters.currency(e.price)),1)):d("",!0)])])]),_:2},1032,["to"]),t("div",Ot,[t("button",{type:"button",class:u(["btn btn-outline-primary w-100",{disabled:s.isDone===e.id}]),onClick:_=>s.addCart(e.id,s.qty)},[Gt,n(" 加入購物車 ")],10,zt)])])]))),128))])]))])])]),h(C)],64)}const Xt=x(S,[["render",Jt]]);export{Xt as default};
