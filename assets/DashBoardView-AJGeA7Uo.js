import{_ as p,S as n,r as d,o as _,c as f,a as e,b as r,w as l,e as u,F as v}from"./index-DKG7HB9V.js";var b={VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funniecafeweb",BASE_URL:"/vite-milkproject/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API:g}=b,P={methods:{logout(){const o=`${g}logout`;this.$http.post(o,this.user).then(t=>{t.data.success?(n.fire({position:"top-end",icon:"success",title:"登出成功",timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0}),this.$router.push("/login")):n.fire({position:"top-end",icon:"error",title:"登出失敗",timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0})}).catch(t=>{n.fire({position:"top-end",icon:"error",title:`${t.response.data.message}`,timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0})})}}},k={class:"navbar navbar-expand-lg navbar-dark bg-secondary"},$={class:"container-fluid"},A=e("a",{class:"navbar-brand",href:"#"},"後臺管理",-1),V=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),B={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},E={class:"navbar-nav"};function w(o,t,a,h,m,i){const s=d("RouterLink");return _(),f("nav",k,[e("div",$,[A,V,e("div",B,[e("div",E,[r(s,{to:"/admin/products",class:"nav-link"},{default:l(()=>[u("產品")]),_:1}),r(s,{to:"/admin/orders",class:"nav-link"},{default:l(()=>[u("訂單")]),_:1}),r(s,{to:"/admin/coupons",class:"nav-link"},{default:l(()=>[u("優惠券")]),_:1}),e("button",{type:"button",onClick:t[0]||(t[0]=(...c)=>i.logout&&i.logout(...c)),class:"nav-link"},"登出")])])])])}const I=p(P,[["render",w]]);var T={VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funniecafeweb",BASE_URL:"/vite-milkproject/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API:x}=T,R={components:{Navbar:I},created(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=o;const t=`${x}api/user/check`;this.$http.post(t,this.user).then(a=>{a.data.success||this.$router.push("/login")}).catch(a=>{n.fire({position:"top-end",icon:"error",title:`${a.response.data.message}`,timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0})})}},N={class:"container-fluid mt-3 position-relative"};function S(o,t,a,h,m,i){const s=d("Navbar"),c=d("RouterView");return _(),f(v,null,[r(s),e("div",N,[r(c)])],64)}const D=p(R,[["render",S]]);export{D as default};
