import{_ as u,S as r,o as p,c as m,a as e,f as c,v as d,g as f,e as _}from"./index-WKzLH8na.js";var h={VITE_APP_API:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"funniecafeweb",BASE_URL:"/vite-milkproject/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API:b}=h,w={data(){return{user:{username:"",password:""}}},methods:{signIn(){const i=`${b}admin/signin`;this.$http.post(i,this.user).then(s=>{if(s.data.success){const{token:n,expired:a}=s.data;document.cookie=`hexToken=${n}; expires=${new Date(a)}`,r.fire({position:"top-end",icon:"success",title:"登入成功",timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0}),this.$router.push("/admin/products")}else r.fire({position:"top-end",icon:"error",title:"登入失敗",timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0})}).catch(s=>{r.fire({position:"top-end",icon:"error",title:`${s.response.data.message}`,timer:1500,toast:!0,color:"#14213d",background:"#fef8e2",showConfirmButton:!1,timerProgressBar:!0})})}}},g={class:"container my-5 py-5"},P={class:"col-md-7 col-lg-4 bg-light p-5 rounded-2"},x=e("h2",{class:"h3 mb-3 text-center text-nowrap font-weight-normal fw-bold text-primary"},[e("i",{class:"bi bi-person-circle pe-2"}),_("管理者後台登入")],-1),v={class:"mb-2"},y=e("label",{for:"inputEmail",class:"sr-only"},"Email",-1),E={class:"mb-2"},k=e("label",{for:"inputPassword",class:"sr-only"},"密碼",-1),B=e("div",{class:"text-center mt-4"},[e("button",{class:"btn btn-secondary btn-block px-4 fw-bold",type:"submit"},"登入")],-1);function V(i,s,n,a,o,l){return p(),m("div",g,[e("form",{class:"row justify-content-center py-5 px-3",onSubmit:s[2]||(s[2]=f((...t)=>l.signIn&&l.signIn(...t),["prevent"]))},[e("div",P,[x,e("div",v,[y,c(e("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"Email address",required:"",autofocus:"","onUpdate:modelValue":s[0]||(s[0]=t=>o.user.username=t)},null,512),[[d,o.user.username]])]),e("div",E,[k,c(e("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"Password",required:"","onUpdate:modelValue":s[1]||(s[1]=t=>o.user.password=t)},null,512),[[d,o.user.password]])]),B])],32)])}const A=u(w,[["render",V]]);export{A as default};
