import{_ as w,R as g,m as x,h,i as k,r as b,o,c as n,b as r,a as t,g as $,w as p,F as f,j as V,t as l,k as c,f as m,v as y,d as j,e as i}from"./index-BqodoQ1R.js";import{F as L}from"./FooterComponent-BC0nTRLy.js";const F={components:{RouterLink:g,FooterComponent:L},data(){return{coupon_code:""}},methods:{...x(h,["getCart","updateCart","removeCartItem","getProduct","addCouponCode","copyCouponCode"])},computed:{...k(h,["carts","total","final_total","cart","isLoading"])},mounted(){this.getCart()}},N={class:"mb-5"},R={class:"container"},S=t("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner1 container-fluid"},[t("h2",{class:"position-absolute text-center text-white fw-bolder"},"我的購物車")],-1),U=t("i",{class:"bi bi-arrow-left-square-fill fs-2"},null,-1),q=[U],B={class:"d-flex justify-content-start mt-3 mb-4"},D=t("i",{class:"bi bi-house-heart me-2 pe-1 fs-5"},null,-1),I=t("div",{class:"d-flex justify-content-center mt-5"},[t("h1",{class:"fs-2 fw-bold text-primary"},"我的購物車")],-1),M={class:"row mt-4 mb-5 bg-light rounded-2 py-3"},P={class:"col table-responsive mt-4 mb-4"},T={class:"table align-middle text-center table-light table-borderless"},A=t("thead",{class:"table-secondary"},[t("tr",{class:"table-nowrap"},[t("th",{class:"text-nowrap"},"商品名稱"),t("th",{class:"text-nowrap"},"數量"),t("th",{class:"text-end"},"單價"),t("th",{class:"text-end"},"小計"),t("th",{class:"text-end"})])],-1),E={class:"text-center"},z=["onClick"],G={key:0,class:"text-success"},H={class:"text-nowrap"},J={class:"d-flex justify-content-center"},K={class:"input-group input-group-sm",style:{width:"120px"}},O=["onChange","onUpdate:modelValue"],Q={class:"input-group-text"},W={class:"text-end text-nowrap"},X={class:"text-end text-nowrap"},Y={key:0,class:"text-success"},Z=["onClick"],tt=t("i",{class:"bi bi-trash3"},null,-1),et=[tt],st=t("td",{colspan:"3",class:"text-end fs-4"},"總計",-1),ot={class:"text-end fs-4 text-primary fw-bold"},nt={key:0},at=t("td",{colspan:"3",class:"text-end text-success fs-4"},"優惠價：",-1),lt={class:"text-end text-success fs-4 fw-bold"},ct={class:"d-flex justify-content-end align-items-center"},rt={key:0,class:"input-group mb-3",style:{"max-width":"400px"}},it=j('<div class="d-flex justify-content-end align-items-center mb-2"><div class="fs-6 fw-bold text-primary"><i class="bi bi-bag-check-fill pe-2"></i>輸入優惠碼 <span class="fw-bold text-secondary">funniemilk</span> 即享 <span class="fw-bold text-secondary">9 </span>折優惠</div></div>',1),dt={class:"d-flex justify-content-end align-items-center mb-4"},ut=t("span",null,[t("i",{class:"bi bi-clipboard-fill pe-2"}),t("span",null,"複製優惠碼")],-1),pt=[ut],_t={key:0,class:"d-flex justify-content-between mt-4 mb-4"},bt={key:1,class:"py-5 mb-5"},ft={class:"text-center pt-4"},ht=t("h2",{class:"fw-bolder mb-5"},"您尚未有商品加入購物車",-1);function mt(e,a,yt,vt,_,Ct){const v=b("LoadingVue"),d=b("RouterLink"),C=b("FooterComponent");return o(),n(f,null,[r(v,{active:e.isLoading,loader:"spinner",color:"#fca311",width:70,height:70},null,8,["active"]),t("section",N,[t("div",R,[S,t("a",{href:"#",title:"回上一頁",class:"text-black-50 hover-nav fw-bold mt-3",onClick:a[0]||(a[0]=$(s=>e.$router.go(-1),["prevent"]))},q),t("div",B,[r(d,{class:"btn btn-primary fw-bold",to:"/products"},{default:p(()=>[D,i("回到商品列表")]),_:1})]),e.cart.total!==0?(o(),n(f,{key:0},[I,t("div",M,[t("div",P,[t("table",T,[A,t("tbody",E,[(o(!0),n(f,null,V(e.cart.carts,s=>(o(),n("tr",{class:"table-nowrap",key:s.id},[t("td",{class:"text-nowrap fw-bold text-primary cursor-pointer hover-nav",onClick:u=>e.getProduct(s.product_id)},[i(l(s.product.category)+" | "+l(s.product.title)+" ",1),s.coupon?(o(),n("div",G," 已套用優惠券 ")):c("",!0)],8,z),t("td",H,[t("div",J,[t("div",K,[m(t("input",{type:"number",class:"form-control",min:"1",onChange:u=>e.updateCart(s),"onUpdate:modelValue":u=>s.qty=u},null,40,O),[[y,s.qty,void 0,{number:!0}]]),t("div",Q,"/ "+l(s.product.unit),1)])])]),t("td",W,l(e.$filters.currency(s.product.price)),1),t("td",X,[e.cart.final_total!==e.cart.total?(o(),n("small",Y,"優惠價：")):c("",!0),i(" "+l(e.$filters.currency(s.final_total)),1)]),t("td",null,[t("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:u=>e.removeCartItem(s.id)},et,8,Z)])]))),128))]),t("tfoot",null,[t("tr",null,[st,t("td",ot,l(e.$filters.currency(e.cart.total)),1)]),e.cart.final_total!==e.cart.total?(o(),n("tr",nt,[at,t("td",lt,l(e.$filters.currency(e.cart.final_total)),1)])):c("",!0)])])]),t("div",ct,[e.cart.total!==0?(o(),n("div",rt,[m(t("input",{type:"text",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=s=>_.coupon_code=s),placeholder:"請輸入優惠碼"},null,512),[[y,_.coupon_code]]),t("button",{class:"btn btn-primary",type:"button",onClick:a[2]||(a[2]=s=>e.addCouponCode(_.coupon_code))}," 套用優惠碼 ")])):c("",!0)]),it,t("div",dt,[t("button",{onClick:a[3]||(a[3]=(...s)=>e.copyCouponCode&&e.copyCouponCode(...s)),class:"btn btn-outline-primary",type:"button"},pt)]),e.cart.total!==0?(o(),n("div",_t,[r(d,{class:"btn btn-outline-primary",to:"/products"},{default:p(()=>[i("繼續選購")]),_:1}),r(d,{class:"btn btn-secondary ms-auto check-btn",to:"/checkout"},{default:p(()=>[i("前往結帳")]),_:1})])):c("",!0)])],64)):c("",!0),e.cart.total===0?(o(),n("div",bt,[t("div",ft,[ht,r(d,{class:"btn btn-primary btn-lg fw-bold",to:"/products"},{default:p(()=>[i("來去逛逛吧 !")]),_:1})])])):c("",!0)])]),r(C)],64)}const xt=w(F,[["render",mt]]);export{xt as default};
